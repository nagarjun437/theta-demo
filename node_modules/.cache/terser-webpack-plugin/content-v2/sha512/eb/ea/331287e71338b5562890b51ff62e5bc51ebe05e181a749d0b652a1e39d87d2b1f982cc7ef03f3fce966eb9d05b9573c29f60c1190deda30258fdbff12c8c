{"map":{"version":3,"sources":["static/js/57.fb9642d1.chunk.js"],"names":["this","push","2178","module","__webpack_exports__","__webpack_require__","r","objectSpread2","toConsumableArray","classCallCheck","createClass","inherits","createSuper","react","react_default","n","Card","axios","axios_default","chatService_getContactById","id","a","get","data","chatService_getRecentContact","chatService_getChatRoomByContactId","currentUser","contactId","chatService_sendNewMessage","message","post","slicedToArray","lib","lib_default","format","chat_ChatSidenav","_ref","open","_ref$contactList","contactList","_ref$recentContactLis","recentContactList","handleContactClick","toggleSidenav","_useState","Object","_useState2","query","setQuery","createElement","className","style","left","onClick","type","placeholder","value","onChange","_ref2","target","filter","user","name","toLocaleLowerCase","match","map","key","concat","status","src","avatar","alt","Date","lastChatTime","getTime","Button","_utils","chat_EmptyMessage","height","width","borderRadius","chat_ChatContainer","_ref$opponentUser","currentChatRoom","opponentUser","_ref$messageList","messageList","setBottomRef","handleMessageSend","isMobile","_React$useState","useState","_React$useState2","setMessage","marginLeft","Fragment","containerRef","ref","item","ind","time","text","cols","rows","e","onKeyUp","event","shiftKey","trim","variant","htmlFor","as","console","log","files","AppChat_AppChat","_Component","AppChat","_super","_this","_len","arguments","length","args","Array","_key","call","apply","state","bottomRef","createRef","updateRecentContactList","then","setState","scrollToBottom","current","scrollIntoView","behavior","chatId","recentListUpdated","scrollTop","_this$state","setTimeout","currentUserId","_this2","window","windowResizeListener","addEventListener","removeEventListener","_this$state2","524","funcs","f","reduce","acc","Error","_len2","_key2","525","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","_createChainedFunction__WEBPACK_IMPORTED_MODULE_3__","_excluded","isTrivialHref","href","SafeAnchor","forwardRef","_ref$as","Component","disabled","onKeyDown","props","handleClick","preventDefault","stopPropagation","role","tabIndex","displayName","557","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__","_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__","bsPrefix","size","active","block","prefix","classes","defaultProps"],"mappings":"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"},"code":"(this[\"webpackJsonpgull-react\"]=this[\"webpackJsonpgull-react\"]||[]).push([[57],{2178:function(e,t,a){\"use strict\";a.r(t);var n=a(1),r=a(5),c=a(10),s=a(12),o=a(14),i=a(15),l=a(0),m=a.n(l),d=a(168),u=a(8),f=a.n(u),p=function(e){return f.a.get(\"/api/chat/contacts\",{data:e})},h=function(e){return f.a.get(\"/api/chat/contacts/recent\",{data:e})},b=function(e,t){return f.a.get(\"/api/chat/chat-room\",{data:{currentUser:e,contactId:t}})},v=function(e){return f.a.post(\"/api/chat/add\",e)},g=a(47),E=a(110),N=a.n(E),w=a(941),x=function(e){var t=e.open,a=(e.currentUser,e.contactList),n=void 0===a?[]:a,r=e.recentContactList,c=void 0===r?[]:r,s=e.handleContactClick,o=e.toggleSidenav,i=Object(l.useState)(\"\"),d=Object(g.a)(i,2),u=d[0],f=d[1];return m.a.createElement(\"div\",{className:\"chat-sidebar-wrap sidebar\",style:{left:t?0:\"-260px\"}},m.a.createElement(\"div\",{className:\"border-right\"},m.a.createElement(\"div\",{className:\"pt-2 pb-2 pl-3 pr-3 d-flex align-items-center o-hidden box-shadow-1 chat-topbar\"},m.a.createElement(\"span\",{className:\"link-icon d-md-none\",onClick:o},m.a.createElement(\"i\",{className:\"icon-regular ml-0 mr-3 i-Left\"})),m.a.createElement(\"div\",{className:\"form-group m-0 flex-grow-1\"},m.a.createElement(\"input\",{type:\"text\",className:\"form-control form-control-rounded\",id:\"search\",placeholder:\"Search contacts\",value:u,onChange:function(e){var t=e.target.value;return f(t)}}))),m.a.createElement(N.a,{className:\"contacts-scrollable\"},m.a.createElement(\"div\",{className:\"mt-4 pb-2 pl-3 pr-3 font-weight-bold text-muted border-bottom\"},\"Recent\"),c.filter((function(e){return e.name.toLocaleLowerCase().match(u.toLocaleLowerCase())})).map((function(e){return m.a.createElement(\"div\",{key:e.id,onClick:function(){return s(e.id)},className:\"p-3 d-flex align-items-center border-bottom contact \".concat(e.status)},m.a.createElement(\"img\",{src:e.avatar,className:\"avatar-sm rounded-circle mr-3\",alt:\"\"}),m.a.createElement(\"div\",null,m.a.createElement(\"h6\",{className:\"m-0\"},e.name),m.a.createElement(\"span\",{className:\"text-muted text-small\"},Object(w.default)(new Date(e.lastChatTime).getTime(),\"dd MMM, yyyy\"))))})),m.a.createElement(\"div\",{className:\"mt-3 pb-2 pl-3 pr-3 font-weight-bold text-muted border-bottom\"},\"Contacts\"),n.filter((function(e){return e.name.toLocaleLowerCase().match(u.toLocaleLowerCase())})).map((function(e){return m.a.createElement(\"div\",{key:e.id,onClick:function(){return s(e.id)},className:\"p-3 d-flex border-bottom align-items-center contact online\"},m.a.createElement(\"img\",{src:e.avatar,className:\"avatar-sm rounded-circle mr-3\",alt:\"\"}),m.a.createElement(\"h6\",{className:\"\"},e.name))})))))},y=a(557),C=a(23),L=function(){return m.a.createElement(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center h-100\"},m.a.createElement(\"div\",{className:\"card bg-white d-flex justify-content-center align-items-center\",style:{height:\"220px\",width:\"220px\",borderRadius:\"50%\"}},m.a.createElement(\"i\",{className:\"i-Mail-Reply text-64 text-primary font-weight-900\"},\" \")),m.a.createElement(\"p\",{className:\"py-3\"},\"Click on a contact to start chat\"))},R=function(e){e.currentUser;var t=e.toggleSidenav,a=(e.currentChatRoom,e.opponentUser),n=void 0===a?{}:a,r=e.messageList,c=void 0===r?[]:r,s=e.setBottomRef,o=e.handleMessageSend,i=e.isMobile,l=m.a.useState(\"\"),d=Object(g.a)(l,2),u=d[0],f=d[1];return m.a.createElement(\"div\",{className:\"chat-content-wrap sidebar-content\",style:{marginLeft:i?0:\"260px\"}},m.a.createElement(\"div\",{className:\"d-flex pl-3 pr-3 pt-2 pb-2 o-hidden box-shadow-1 chat-topbar\"},m.a.createElement(\"span\",{className:\"link-icon d-md-none\",onClick:t},m.a.createElement(\"i\",{className:\"icon-regular i-Right ml-0 mr-3\"})),n&&m.a.createElement(\"div\",{className:\"d-flex align-items-center\"},m.a.createElement(\"img\",{src:n.avatar,alt:\"\",className:\"avatar-sm rounded-circle mr-2\"}),m.a.createElement(\"p\",{className:\"m-0 text-title text-16 flex-grow-1\"},n.name))),n?m.a.createElement(m.a.Fragment,null,m.a.createElement(N.a,{className:\"chat-content\",containerRef:function(e){s(e)}},c.map((function(e,t){return e.contactId===n.id?m.a.createElement(\"div\",{key:t,className:\"d-flex mb-4\"},m.a.createElement(\"div\",{className:\"message flex-grow-1\"},m.a.createElement(\"div\",{className:\"d-flex\"},m.a.createElement(\"p\",{className:\"mb-1 text-title text-16 flex-grow-1\"},e.name),m.a.createElement(\"span\",{className:\"text-small text-muted\"},Object(C.c)(new Date(e.time)),\" ago\")),m.a.createElement(\"p\",{className:\"m-0 white-space-pre-line\"},e.text)),m.a.createElement(\"img\",{src:e.avatar,alt:\"\",className:\"avatar-sm rounded-circle ml-3\"})):m.a.createElement(\"div\",{key:t,className:\"d-flex mb-4 user\"},m.a.createElement(\"img\",{src:e.avatar,alt:\"\",className:\"avatar-sm rounded-circle ml-3\"}),m.a.createElement(\"div\",{className:\"message flex-grow-1\"},m.a.createElement(\"div\",{className:\"d-flex\"},m.a.createElement(\"p\",{className:\"mb-1 text-title text-16 flex-grow-1\"},e.name),m.a.createElement(\"span\",{className:\"text-small text-muted\"},Object(C.c)(new Date(e.time)),\" ago\")),m.a.createElement(\"p\",{className:\"m-0 white-space-pre-line\"},e.text)))}))),m.a.createElement(\"div\",{className:\"pl-3 pr-3 pt-3 pb-3 box-shadow-1 chat-input-area\"},m.a.createElement(\"form\",{className:\"inputForm\"},m.a.createElement(\"div\",{className:\"form-group\"},m.a.createElement(\"textarea\",{className:\"form-control form-control-rounded\",placeholder:\"Type your message\",name:\"message\",id:\"message\",cols:\"30\",rows:\"3\",onChange:function(e){return f(e.target.value)},onKeyUp:function(e){\"Enter\"!==e.key||e.shiftKey||(\"\"!==(u=u.trim())&&o(u),f(\"\"))},value:u})),m.a.createElement(\"div\",{className:\"d-flex\"},m.a.createElement(\"div\",{className:\"flex-grow-1\"}),m.a.createElement(y.a,{className:\"btn btn-icon btn-rounded mr-2\",variant:\"primary\",onClick:function(){\"\"!==u.trim()&&o(u),f(\"\")}},m.a.createElement(\"i\",{className:\"i-Paper-Plane\"})),m.a.createElement(\"label\",{htmlFor:\"attachment\",className:\"mb-0\"},m.a.createElement(y.a,{type:\"button\",className:\"mr-2\",as:\"span\",variant:\"outline-primary\"},m.a.createElement(\"i\",{className:\"i-Add-File\"}))),m.a.createElement(\"input\",{onChange:function(e){console.log(e.target.files[0])},className:\"d-none\",id:\"attachment\",type:\"file\"}))))):m.a.createElement(L,null))},j=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentUser:{id:\"7863a6802ez0e277a0f98534\"},contactList:[],recentContactList:[],messageList:[],currentChatRoom:\"\",opponentUser:null,open:!0,isMobile:!1},e.bottomRef=m.a.createRef(),e.updateRecentContactList=function(){var t=e.state.currentUser.id;h(t).then((function(t){e.setState({recentContactList:Object(r.a)(t.data)})}))},e.scrollToBottom=function(){e.bottomRef.current.scrollIntoView({behavior:\"smooth\"})},e.handleContactClick=function(t){Object(C.d)()&&e.toggleSidenav(),p(t).then((function(t){var a=t.data;e.setState({opponentUser:Object(n.a)({},a)})})),b(e.state.currentUser.id,t).then((function(t){var a=t.data,n=a.chatId,r=a.messageList,c=a.recentListUpdated;console.log(n),e.setState({currentChatRoom:n,messageList:r},(function(){e.bottomRef.scrollTop=9999999999999})),c&&e.updateRecentContactList()}))},e.handleMessageSend=function(t){var a=e.state.currentUser.id,n=e.state,c=n.currentChatRoom,s=n.opponentUser;\"\"!==c&&v({chatId:c,text:t,contactId:a,time:new Date}).then((function(t){e.setState({messageList:Object(r.a)(t.data)},(function(){e.bottomRef.scrollTop=9999999999999})),setTimeout((function(){v({chatId:c,text:\"Hi, I'm \".concat(s.name,\". Your imaginary friend.\"),contactId:s.id,time:new Date}).then((function(t){e.setState({messageList:Object(r.a)(t.data)},(function(){e.bottomRef.scrollTop=9999999999999}))}))}),750)}))},e.setBottomRef=function(t){e.bottomRef=t},e.toggleSidenav=function(){return e.setState({open:!e.state.open})},e}return Object(s.a)(a,[{key:\"componentDidMount\",value:function(){var e,t=this,a=this.state.currentUser.id;p(a).then((function(e){t.setState({currentUser:Object(n.a)({},e.data)})})),(e=this.state.currentUser.id,f.a.get(\"/api/chat/contacts/all\",{data:e})).then((function(e){return t.setState({contactList:Object(r.a)(e.data)})})),this.updateRecentContactList(),Object(C.d)()&&this.setState({open:!1,isMobile:!0}),window&&(this.windowResizeListener=window.addEventListener(\"resize\",(function(e){Object(C.d)()?t.setState({open:!1,isMobile:!0}):t.setState({open:!0,isMobile:!1})})))}},{key:\"componentWillUnmount\",value:function(){window&&window.removeEventListener(\"resize\",this.windowResizeListener)}},{key:\"render\",value:function(){var e=this.state,t=e.open,a=e.isMobile,n=e.currentUser,r=e.contactList,c=e.recentContactList,s=e.messageList,o=e.opponentUser,i=e.currentChatRoom;return m.a.createElement(d.a,{className:\"chat-sidebar-container sidebar-container\"},m.a.createElement(x,{open:t,isMobile:a,toggleSidenav:this.toggleSidenav,contactList:r,recentContactList:c,handleContactClick:this.handleContactClick}),m.a.createElement(R,{open:t,isMobile:a,toggleSidenav:this.toggleSidenav,messageList:s,currentUser:n,opponentUser:o,currentChatRoom:i,setBottomRef:this.setBottomRef,handleMessageSend:this.handleMessageSend}))}}]),a}(l.Component);t.default=j},524:function(e,t,a){\"use strict\";t.a=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return null!=e})).reduce((function(e,t){if(\"function\"!==typeof t)throw new Error(\"Invalid Argument Type, must only provide functions, undefined, or null.\");return null===e?t:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];e.apply(this,n),t.apply(this,n)}}),null)}},525:function(e,t,a){\"use strict\";var n=a(2),r=a(7),c=a(0),s=a.n(c),o=a(524),i=[\"as\",\"disabled\",\"onKeyDown\"];function l(e){return!e||\"#\"===e.trim()}var m=s.a.forwardRef((function(e,t){var a=e.as,c=void 0===a?\"a\":a,m=e.disabled,d=e.onKeyDown,u=Object(r.a)(e,i),f=function(e){var t=u.href,a=u.onClick;(m||l(t))&&e.preventDefault(),m?e.stopPropagation():a&&a(e)};return l(u.href)&&(u.role=u.role||\"button\",u.href=u.href||\"#\"),m&&(u.tabIndex=-1,u[\"aria-disabled\"]=!0),s.a.createElement(c,Object(n.a)({ref:t},u,{onClick:f,onKeyDown:Object(o.a)((function(e){\" \"===e.key&&(e.preventDefault(),f(e))}),d)}))}));m.displayName=\"SafeAnchor\",t.a=m},557:function(e,t,a){\"use strict\";var n=a(2),r=a(7),c=a(13),s=a.n(c),o=a(0),i=a.n(o),l=a(22),m=a(525),d=[\"bsPrefix\",\"variant\",\"size\",\"active\",\"className\",\"block\",\"type\",\"as\"],u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.variant,o=e.size,u=e.active,f=e.className,p=e.block,h=e.type,b=e.as,v=Object(r.a)(e,d),g=Object(l.a)(a,\"btn\"),E=s()(f,g,u&&\"active\",c&&g+\"-\"+c,p&&g+\"-block\",o&&g+\"-\"+o);if(v.href)return i.a.createElement(m.a,Object(n.a)({},v,{as:b,ref:t,className:s()(E,v.disabled&&\"disabled\")}));t&&(v.ref=t),h?v.type=h:b||(v.type=\"button\");var N=b||\"button\";return i.a.createElement(N,Object(n.a)({},v,{className:E}))}));u.displayName=\"Button\",u.defaultProps={variant:\"primary\",active:!1,disabled:!1},t.a=u}}]);","extractedComments":[]}