{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Breadcrumb}from\"@gull\";import swal from\"sweetalert2\";import{format}from\"date-fns\";import ReactPaginate from\"react-paginate\";import{MdEdit,MdDelete}from\"react-icons/md\";import{Link}from\"react-router-dom\";import{getAllUser,deleteUser,addNewUser,updateUser}from\"./contactService\";import ContactEditor2 from\"./ContactEditor2\";var ContactList=/*#__PURE__*/function(_Component){_inherits(ContactList,_Component);var _super=_createSuper(ContactList);function ContactList(){var _this;_classCallCheck(this,ContactList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rowsPerPage:10,page:0,userList:[],showEditorDialog:false,searchQuery:\"\",dialogValues:null};_this.updatePageData=function(){getAllUser().then(function(_ref){var data=_ref.data;return _this.setState({userList:_toConsumableArray(data)});});};_this.handleSearch=function(_ref2){var value=_ref2.target.value;_this.setState({searchQuery:value});};_this.handlePageClick=function(data){var page=data.selected;_this.setState({page:page});};_this.toggleEditorDialog=function(arg){if(arg&&arg.toString())_this.setState({showEditorDialog:arg,dialogValues:null});else _this.setState({showEditorDialog:!_this.state.showEditorDialog,dialogValues:null});};_this.handleEditContact=function(dialogValues){_this.setState({dialogValues:dialogValues,showEditorDialog:true});};_this.handleDeleteContact=function(values){deleteUser(values).then(function(_ref3){var userList=_ref3.data;_this.setState({userList:userList});swal.fire({title:\"Deleted!\",text:\"Your file has been deleted.\",type:\"success\",icon:\"success\",timer:1500});});};_this.handleFormSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var dialogValues,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(values);dialogValues=_this.state.dialogValues;if(dialogValues){_context.next=8;break;}_context.next=5;return addNewUser(values);case 5:res=_context.sent;_context.next=11;break;case 8:_context.next=10;return updateUser(_objectSpread(_objectSpread({},dialogValues),values));case 10:res=_context.sent;case 11:_this.setState({userList:res.data});_this.toggleEditorDialog(false);case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref4.apply(this,arguments);};}();_this.getBadgeColor=function(role){switch(role){case\"developer\":return\"primary\";case\"manager\":return\"success\";case\"designer\":return\"warning\";default:return\"primary\";}};return _this;}_createClass(ContactList,[{key:\"componentDidMount\",value:function componentDidMount(){this.updatePageData();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,rowsPerPage=_this$state.rowsPerPage,page=_this$state.page,_this$state$userList=_this$state.userList,userList=_this$state$userList===void 0?[]:_this$state$userList,dialogValues=_this$state.dialogValues,searchQuery=_this$state.searchQuery,showEditorDialog=_this$state.showEditorDialog;userList=userList.filter(function(user){return user.name.toLowerCase().match(searchQuery.toLowerCase());});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{routeSegments:[{name:\"Home\",path:\"/\"},{name:\"Contact\",path:\"/contact\"},{name:\"Contact List\"}]}),/*#__PURE__*/React.createElement(\"section\",{className:\"contact-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-right bg-transparent\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary btn-md m-1\",onClick:this.toggleEditorDialog},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Add-User text-white mr-2\"}),\" Add Contact\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row px-4 mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},\"Show\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-1\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(_ref5){var value=_ref5.target.value;_this2.setState({rowsPerPage:value});}},/*#__PURE__*/React.createElement(\"option\",{value:10},\"10\"),/*#__PURE__*/React.createElement(\"option\",{value:25},\"25\"),/*#__PURE__*/React.createElement(\"option\",{value:50},\"50\"),/*#__PURE__*/React.createElement(\"option\",{value:100},\"100\"))),/*#__PURE__*/React.createElement(\"span\",null,\"entries\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-lg-end align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},\"Search:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"search\",className:\"form-control form-control-sm\",placeholder:\"\",onChange:this.handleSearch,\"aria-controls\":\"ul-contact-list\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body pt-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{id:\"ul-contact-list\",className:\"display table w-100\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null,\"Phone\"),/*#__PURE__*/React.createElement(\"th\",null,\"Role\"),/*#__PURE__*/React.createElement(\"th\",null,\"Age\"),/*#__PURE__*/React.createElement(\"th\",null,\"Joining Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Salary\"),/*#__PURE__*/React.createElement(\"th\",null,\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,userList.slice(rowsPerPage*page,rowsPerPage*(page+1)).map(function(user,ind){return/*#__PURE__*/React.createElement(\"tr\",{key:ind},/*#__PURE__*/React.createElement(\"td\",{valign:\"middle\"},/*#__PURE__*/React.createElement(Link,{to:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-widget-app__profile-pic\"},/*#__PURE__*/React.createElement(\"img\",{className:\"profile-picture avatar-sm mb-2 rounded-circle img-fluid\",src:user.imgUrl,alt:\"\"}),user.name))),/*#__PURE__*/React.createElement(\"td\",null,user.email),/*#__PURE__*/React.createElement(\"td\",null,user.phone),/*#__PURE__*/React.createElement(\"td\",{valign:\"middle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"badge badge-\".concat(_this2.getBadgeColor(user.role),\" p-2 text-capitalize\")},user.role?user.role:\"Developer\")),/*#__PURE__*/React.createElement(\"td\",null,user.age),/*#__PURE__*/React.createElement(\"td\",null,format(new Date(user.bd?user.bd:new Date()).getTime(),\"dd MMM, yyyy\")),/*#__PURE__*/React.createElement(\"td\",null,\"$\",user.balance),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cursor-pointer mr-3\"},/*#__PURE__*/React.createElement(MdEdit,{className:\"text-success\",size:18,onClick:function onClick(){return _this2.handleEditContact(user);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"cursor-pointer\"},/*#__PURE__*/React.createElement(MdDelete,{className:\"text-danger\",size:18,onClick:function onClick(){swal.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",icon:\"warning\",type:\"question\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\",cancelButtonText:\"No\"}).then(function(result){if(result.value){_this2.handleDeleteContact(user);}else{swal.fire({title:\"Cancelled!\",text:\"Permission denied.\",type:\"error\",icon:\"error\",timer:1500});}});}})))));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end mr-lg-4\"},/*#__PURE__*/React.createElement(ReactPaginate,{previousLabel:\"Previous\",nextLabel:\"Next\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:Math.ceil(userList.length/rowsPerPage),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:this.handlePageClick,containerClassName:\"pagination pagination-lg\",subContainerClassName:\"pages pagination\",activeClassName:\"active\"}))))))),/*#__PURE__*/React.createElement(ContactEditor2,{show:showEditorDialog,toggleEditorDialog:this.toggleEditorDialog,initialValues:dialogValues,handleFormSubmit:this.handleFormSubmit}));}}]);return ContactList;}(Component);export default ContactList;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/views/app/contact/ContactList.jsx"],"names":["React","Component","Breadcrumb","swal","format","ReactPaginate","MdEdit","MdDelete","Link","getAllUser","deleteUser","addNewUser","updateUser","ContactEditor2","ContactList","state","rowsPerPage","page","userList","showEditorDialog","searchQuery","dialogValues","updatePageData","then","data","setState","handleSearch","value","target","handlePageClick","selected","toggleEditorDialog","arg","toString","handleEditContact","handleDeleteContact","values","fire","title","text","type","icon","timer","handleFormSubmit","console","log","res","getBadgeColor","role","filter","user","name","toLowerCase","match","path","slice","map","ind","imgUrl","email","phone","age","Date","bd","getTime","balance","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","Math","ceil","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Breadcrumb } from \"@gull\";\nimport swal from \"sweetalert2\";\nimport { format } from \"date-fns\";\nimport ReactPaginate from \"react-paginate\";\nimport { MdEdit, MdDelete } from \"react-icons/md\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  getAllUser,\n  deleteUser,\n  addNewUser,\n  updateUser\n} from \"./contactService\";\nimport ContactEditor2 from \"./ContactEditor2\";\n\nclass ContactList extends Component {\n  state = {\n    rowsPerPage: 10,\n    page: 0,\n    userList: [],\n    showEditorDialog: false,\n    searchQuery: \"\",\n    dialogValues: null\n  };\n\n  updatePageData = () => {\n    getAllUser().then(({ data }) => this.setState({ userList: [...data] }));\n  };\n\n  handleSearch = ({ target: { value } }) => {\n    this.setState({ searchQuery: value });\n  };\n\n  handlePageClick = data => {\n    let page = data.selected;\n    this.setState({ page });\n  };\n\n  toggleEditorDialog = arg => {\n    if (arg && arg.toString())\n      this.setState({ showEditorDialog: arg, dialogValues: null });\n    else\n      this.setState({\n        showEditorDialog: !this.state.showEditorDialog,\n        dialogValues: null\n      });\n  };\n\n  handleEditContact = dialogValues => {\n    this.setState({ dialogValues, showEditorDialog: true });\n  };\n\n  handleDeleteContact = values => {\n    deleteUser(values).then(({ data: userList }) => {\n      this.setState({ userList });\n      swal.fire({\n        title: \"Deleted!\",\n        text: \"Your file has been deleted.\",\n        type: \"success\",\n        icon: \"success\",\n        timer: 1500\n      });\n    });\n  };\n\n  handleFormSubmit = async values => {\n    console.log(values);\n\n    let { dialogValues } = this.state;\n    let res;\n    if (!dialogValues) {\n      res = await addNewUser(values);\n    } else {\n      res = await updateUser({ ...dialogValues, ...values });\n    }\n    this.setState({ userList: res.data });\n    this.toggleEditorDialog(false);\n  };\n\n  getBadgeColor = role => {\n    switch (role) {\n      case \"developer\":\n        return \"primary\";\n\n      case \"manager\":\n        return \"success\";\n\n      case \"designer\":\n        return \"warning\";\n\n      default:\n        return \"primary\";\n    }\n  };\n\n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  render() {\n    let {\n      rowsPerPage,\n      page,\n      userList = [],\n      dialogValues,\n      searchQuery,\n      showEditorDialog\n    } = this.state;\n\n    userList = userList.filter(user =>\n      user.name.toLowerCase().match(searchQuery.toLowerCase())\n    );\n\n    return (\n      <div>\n        <Breadcrumb\n          routeSegments={[\n            { name: \"Home\", path: \"/\" },\n            { name: \"Contact\", path: \"/contact\" },\n            { name: \"Contact List\" }\n          ]}\n        ></Breadcrumb>\n\n        <section className=\"contact-list\">\n          <div className=\"row\">\n            <div className=\"col-md-12 mb-4\">\n              <div className=\"card text-left\">\n                <div className=\"card-header text-right bg-transparent\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-primary btn-md m-1\"\n                    onClick={this.toggleEditorDialog}\n                  >\n                    <i className=\"i-Add-User text-white mr-2\"></i> Add Contact\n                  </button>\n                </div>\n\n                <div className=\"row px-4 mt-3\">\n                  <div className=\"col-sm-12 col-md-6 mb-2\">\n                    <div className=\"d-flex align-items-center\">\n                      <span className=\"mr-1\">Show</span>\n                      <div className=\"mr-1\">\n                        <select\n                          className=\"form-control\"\n                          onChange={({ target: { value } }) => {\n                            this.setState({ rowsPerPage: value });\n                          }}\n                        >\n                          <option value={10}>10</option>\n                          <option value={25}>25</option>\n                          <option value={50}>50</option>\n                          <option value={100}>100</option>\n                        </select>\n                      </div>\n                      <span>entries</span>\n                    </div>\n                  </div>\n                  <div className=\"col-sm-12 col-md-6 mb-2\">\n                    <div className=\"d-flex justify-content-lg-end align-items-center\">\n                      <span className=\"mr-1\">Search:</span>\n                      <div className=\"mr-1\">\n                        <input\n                          type=\"search\"\n                          className=\"form-control form-control-sm\"\n                          placeholder=\"\"\n                          onChange={this.handleSearch}\n                          aria-controls=\"ul-contact-list\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"card-body pt-1\">\n                  <div className=\"table-responsive\">\n                    <table id=\"ul-contact-list\" className=\"display table w-100\">\n                      <thead>\n                        <tr>\n                          <th>Name</th>\n                          <th>Email</th>\n                          <th>Phone</th>\n                          <th>Role</th>\n                          <th>Age</th>\n                          <th>Joining Date</th>\n                          <th>Salary</th>\n                          <th>Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {userList\n                          .slice(rowsPerPage * page, rowsPerPage * (page + 1))\n                          .map((user, ind) => (\n                            <tr key={ind}>\n                              <td valign=\"middle\">\n                                <Link to=\"\">\n                                  <div className=\"ul-widget-app__profile-pic\">\n                                    <img\n                                      className=\"profile-picture avatar-sm mb-2 rounded-circle img-fluid\"\n                                      src={user.imgUrl}\n                                      alt=\"\"\n                                    />\n                                    {user.name}\n                                  </div>\n                                </Link>\n                              </td>\n                              <td>{user.email}</td>\n                              <td>{user.phone}</td>\n                              <td valign=\"middle\">\n                                <div\n                                  className={`badge badge-${this.getBadgeColor(\n                                    user.role\n                                  )} p-2 text-capitalize`}\n                                >\n                                  {user.role ? user.role : \"Developer\"}\n                                </div>\n                              </td>\n                              <td>{user.age}</td>\n                              <td>\n                                {format(\n                                  new Date(\n                                    user.bd ? user.bd : new Date()\n                                  ).getTime(),\n                                  \"dd MMM, yyyy\"\n                                )}\n                              </td>\n                              <td>${user.balance}</td>\n                              <td>\n                                <div className=\"d-flex\">\n                                  <div className=\"cursor-pointer mr-3\">\n                                    <MdEdit\n                                      className=\"text-success\"\n                                      size={18}\n                                      onClick={() =>\n                                        this.handleEditContact(user)\n                                      }\n                                    ></MdEdit>\n                                  </div>\n                                  <div className=\"cursor-pointer\">\n                                    <MdDelete\n                                      className=\"text-danger\"\n                                      size={18}\n                                      onClick={() => {\n                                        swal\n                                          .fire({\n                                            title: \"Are you sure?\",\n                                            text:\n                                              \"You won't be able to revert this!\",\n                                            icon: \"warning\",\n                                            type: \"question\",\n                                            showCancelButton: true,\n                                            confirmButtonColor: \"#3085d6\",\n                                            cancelButtonColor: \"#d33\",\n                                            confirmButtonText:\n                                              \"Yes, delete it!\",\n                                            cancelButtonText: \"No\"\n                                          })\n                                          .then(result => {\n                                            if (result.value) {\n                                              this.handleDeleteContact(user);\n                                            } else {\n                                              swal.fire({\n                                                title: \"Cancelled!\",\n                                                text: \"Permission denied.\",\n                                                type: \"error\",\n                                                icon: \"error\",\n                                                timer: 1500\n                                              });\n                                            }\n                                          });\n                                      }}\n                                    ></MdDelete>\n                                  </div>\n                                </div>\n                              </td>\n                            </tr>\n                          ))}\n                      </tbody>\n                    </table>\n                  </div>\n                  <div className=\"d-flex justify-content-end mr-lg-4\">\n                    <ReactPaginate\n                      previousLabel={\"Previous\"}\n                      nextLabel={\"Next\"}\n                      breakLabel={\"...\"}\n                      breakClassName={\"break-me\"}\n                      pageCount={Math.ceil(userList.length / rowsPerPage)}\n                      marginPagesDisplayed={2}\n                      pageRangeDisplayed={3}\n                      onPageChange={this.handlePageClick}\n                      containerClassName={\"pagination pagination-lg\"}\n                      subContainerClassName={\"pages pagination\"}\n                      activeClassName={\"active\"}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <ContactEditor2\n          show={showEditorDialog}\n          toggleEditorDialog={this.toggleEditorDialog}\n          initialValues={dialogValues}\n          handleFormSubmit={this.handleFormSubmit}\n        ></ContactEditor2>\n      </div>\n    );\n  }\n}\n\nexport default ContactList;\n"]},"metadata":{},"sourceType":"module"}