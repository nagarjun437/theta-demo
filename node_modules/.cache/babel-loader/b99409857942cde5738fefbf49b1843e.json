{"ast":null,"code":"import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Breadcrumb,SimpleCard}from\"@gull\";import{Button,Card,Row,Col,ProgressBar}from\"react-bootstrap\";var UploadTaskImage=/*#__PURE__*/function(_Component){_inherits(UploadTaskImage,_Component);var _super=_createSuper(UploadTaskImage);function UploadTaskImage(){var _this;_classCallCheck(this,UploadTaskImage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={dragClass:\"\",files:[],statusList:[],queProgress:0};_this.handleFileSelect=function(event){var files=event.target.files;var list=[];var _iterator=_createForOfIteratorHelper(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var iterator=_step.value;list.push({file:iterator,uploading:false,error:false,progress:0});}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({files:[].concat(list)});};_this.handleDragOver=function(event){event.preventDefault();_this.setState({dragClass:\"drag-shadow\"});};_this.handleDrop=function(event){event.preventDefault();event.persist();var files=event.dataTransfer.files;var list=[];var _iterator2=_createForOfIteratorHelper(files),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var iterator=_step2.value;list.push({file:iterator,uploading:false,error:false,progress:0});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this.setState({dragClass:\"\",files:[].concat(list)});return false;};_this.handleDragStart=function(event){_this.setState({dragClass:\"drag-shadow\"});};_this.handleSingleRemove=function(index){var files=_toConsumableArray(_this.state.files);files.splice(index,1);_this.setState({files:_toConsumableArray(files)});};_this.handleAllRemove=function(){_this.setState({files:[],queProgress:0});};_this.uploadSingleFile=function(index){var allFiles=_toConsumableArray(_this.state.files);var file=_this.state.files[index];allFiles[index]=_objectSpread(_objectSpread({},file),{},{uploading:true,error:false});_this.setState({files:_toConsumableArray(allFiles)});};_this.uploadAllFile=function(){var allFiles=[];_this.state.files.map(function(item){allFiles.push(_objectSpread(_objectSpread({},item),{},{uploading:true,error:false}));return item;});_this.setState({files:[].concat(allFiles),queProgress:35});};_this.handleSingleCancel=function(index){var allFiles=_toConsumableArray(_this.state.files);var file=_this.state.files[index];allFiles[index]=_objectSpread(_objectSpread({},file),{},{uploading:false,error:true});_this.setState({files:_toConsumableArray(allFiles)});};_this.handleCancelAll=function(){var allFiles=[];_this.state.files.map(function(item){allFiles.push(_objectSpread(_objectSpread({},item),{},{uploading:false,error:true}));return item;});_this.setState({files:[].concat(allFiles),queProgress:0});};return _this;}_createClass(UploadTaskImage,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,dragClass=_this$state.dragClass,files=_this$state.files,queProgress=_this$state.queProgress;var isEmpty=files.length===0;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{routeSegments:[{name:\"Home\",path:\"/\"},,{name:\"Task Upload Images\"}]}),/*#__PURE__*/React.createElement(SimpleCard,{title:\"File Upload\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap mb-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"upload-single-file\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-rounded\",as:\"span\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-middle\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Share-on-Cloud\"},\" \"),/*#__PURE__*/React.createElement(\"span\",null,\"Single File\")))),/*#__PURE__*/React.createElement(\"input\",{className:\"d-none\",onChange:this.handleFileSelect,id:\"upload-single-file\",type:\"file\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"px-3\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"upload-multiple-file\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-rounded\",as:\"span\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-middle\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Share-on-Cloud \"},\" \"),/*#__PURE__*/React.createElement(\"span\",null,\"Multiple File\")))),/*#__PURE__*/React.createElement(\"input\",{className:\"d-none\",onChange:this.handleFileSelect,id:\"upload-multiple-file\",type:\"file\",multiple:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dragClass,\" dropzone mb-4 d-flex justify-content-center align-items-center\"),onDragEnter:this.handleDragStart,onDragOver:this.handleDragOver,onDrop:this.handleDrop},isEmpty?/*#__PURE__*/React.createElement(\"span\",null,\"Drop your files here\"):/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0\"},files.length,\" file\",files.length>1?\"s\":\"\",\" selected...\")),/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center p-3\"},/*#__PURE__*/React.createElement(Col,{lg:4,md:4},\"Name\"),/*#__PURE__*/React.createElement(Col,{lg:1,md:1},\"Size\"),/*#__PURE__*/React.createElement(Col,{lg:2,md:2},\"Progress\"),/*#__PURE__*/React.createElement(Col,{lg:1,md:1},\"Status\"),/*#__PURE__*/React.createElement(Col,{lg:4,md:4},\"Actions\")),/*#__PURE__*/React.createElement(\"hr\",{className:\"mt-0 mb-3\"}),isEmpty&&/*#__PURE__*/React.createElement(\"p\",{className:\"p-3 py-0\"},\"Que is empty\"),files.map(function(item,index){var file=item.file,uploading=item.uploading,error=item.error,progress=item.progress;return/*#__PURE__*/React.createElement(Row,{className:\"align-items-center px-3\",key:file.name},/*#__PURE__*/React.createElement(Col,{lg:4,md:4,sm:12,xs:12,className:\"mb-3\"},file.name),/*#__PURE__*/React.createElement(Col,{lg:1,md:1,sm:12,xs:12,className:\"mb-3\"},(file.size/1024/1024).toFixed(1),\" MB\"),/*#__PURE__*/React.createElement(Col,{lg:2,md:2,sm:12,xs:12,className:\"mb-3\"},/*#__PURE__*/React.createElement(ProgressBar,{now:progress,variant:\"success\",className:\"progress-thin\"})),/*#__PURE__*/React.createElement(Col,{lg:1,md:1,sm:12,xs:12,className:\"mb-3\"},error&&/*#__PURE__*/React.createElement(\"i\",{className:\"i-Information text-danger text-18\"},\" \")),/*#__PURE__*/React.createElement(Col,{lg:4,md:4,sm:12,xs:12,className:\"mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Button,{disabled:uploading,onClick:function onClick(){return _this2.uploadSingleFile(index);}},\"Upload\"),/*#__PURE__*/React.createElement(Button,{className:\"mx-8\",variant:\"warning\",disabled:!uploading,onClick:function onClick(){return _this2.handleSingleCancel(index);}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return _this2.handleSingleRemove(index);}},\"Remove\"))));})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"m-0\"},\"Queue progress:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"py-3\"},/*#__PURE__*/React.createElement(ProgressBar,{now:queProgress,variant:\"success\",className:\"progress-thin\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(Button,{disabled:isEmpty,onClick:this.uploadAllFile},\"Upload All\"),/*#__PURE__*/React.createElement(Button,{className:\"mx-8\",variant:\"warning\",disabled:isEmpty,onClick:this.handleCancelAll},\"Cancel All\"),!isEmpty&&/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:this.handleAllRemove},\"Remove All\")))));}}]);return UploadTaskImage;}(Component);export default UploadTaskImage;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/src/app/views/tasks/UploadTaskImage.jsx"],"names":["React","Component","Breadcrumb","SimpleCard","Button","Card","Row","Col","ProgressBar","UploadTaskImage","state","dragClass","files","statusList","queProgress","handleFileSelect","event","target","list","iterator","push","file","uploading","error","progress","setState","handleDragOver","preventDefault","handleDrop","persist","dataTransfer","handleDragStart","handleSingleRemove","index","splice","handleAllRemove","uploadSingleFile","allFiles","uploadAllFile","map","item","handleSingleCancel","handleCancelAll","isEmpty","length","name","path","size","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Breadcrumb, SimpleCard } from \"@gull\";\nimport { Button, Card, Row, Col, ProgressBar } from \"react-bootstrap\";\n\nclass UploadTaskImage extends Component {\n  state = {\n    dragClass: \"\",\n    files: [],\n    statusList: [],\n    queProgress: 0\n  };\n\n  handleFileSelect = event => {\n    let files = event.target.files;\n    let list = [];\n\n    for (const iterator of files) {\n      list.push({\n        file: iterator,\n        uploading: false,\n        error: false,\n        progress: 0\n      });\n    }\n\n    this.setState({\n      files: [...list]\n    });\n  };\n\n  handleDragOver = event => {\n    event.preventDefault();\n    this.setState({ dragClass: \"drag-shadow\" });\n  };\n\n  handleDrop = event => {\n    event.preventDefault();\n    event.persist();\n\n    let files = event.dataTransfer.files;\n    let list = [];\n\n    for (const iterator of files) {\n      list.push({\n        file: iterator,\n        uploading: false,\n        error: false,\n        progress: 0\n      });\n    }\n\n    this.setState({\n      dragClass: \"\",\n      files: [...list]\n    });\n\n    return false;\n  };\n\n  handleDragStart = event => {\n    this.setState({ dragClass: \"drag-shadow\" });\n  };\n\n  handleSingleRemove = index => {\n    let files = [...this.state.files];\n    files.splice(index, 1);\n    this.setState({\n      files: [...files]\n    });\n  };\n\n  handleAllRemove = () => {\n    this.setState({ files: [], queProgress: 0 });\n  };\n\n  uploadSingleFile = index => {\n    let allFiles = [...this.state.files];\n    let file = this.state.files[index];\n\n    allFiles[index] = { ...file, uploading: true, error: false };\n\n    this.setState({\n      files: [...allFiles]\n    });\n  };\n\n  uploadAllFile = () => {\n    let allFiles = [];\n\n    this.state.files.map(item => {\n      allFiles.push({\n        ...item,\n        uploading: true,\n        error: false\n      });\n\n      return item;\n    });\n\n    this.setState({\n      files: [...allFiles],\n      queProgress: 35\n    });\n  };\n\n  handleSingleCancel = index => {\n    let allFiles = [...this.state.files];\n    let file = this.state.files[index];\n\n    allFiles[index] = { ...file, uploading: false, error: true };\n\n    this.setState({\n      files: [...allFiles]\n    });\n  };\n\n  handleCancelAll = () => {\n    let allFiles = [];\n\n    this.state.files.map(item => {\n      allFiles.push({\n        ...item,\n        uploading: false,\n        error: true\n      });\n\n      return item;\n    });\n\n    this.setState({\n      files: [...allFiles],\n      queProgress: 0\n    });\n  };\n\n  render() {\n    let { dragClass, files, queProgress } = this.state;\n    let isEmpty = files.length === 0;\n\n    return (\n      <div>\n        <Breadcrumb\n          routeSegments={[\n            { name: \"Home\", path: \"/\" },,\n            { name: \"Task Upload Images\" }\n          ]}\n        ></Breadcrumb>\n        <SimpleCard title=\"File Upload\">\n          <div className=\"d-flex flex-wrap mb-4\">\n            <label htmlFor=\"upload-single-file\">\n              <Button className=\"btn-rounded\" as=\"span\">\n                <div className=\"flex flex-middle\">\n                  <i className=\"i-Share-on-Cloud\"> </i>\n                  <span>Single File</span>\n                </div>\n              </Button>\n            </label>\n            <input\n              className=\"d-none\"\n              onChange={this.handleFileSelect}\n              id=\"upload-single-file\"\n              type=\"file\"\n            />\n            <div className=\"px-3\"></div>\n            <label htmlFor=\"upload-multiple-file\">\n              <Button className=\"btn-rounded\" as=\"span\">\n                <div className=\"flex flex-middle\">\n                  <i className=\"i-Share-on-Cloud \"> </i>\n                  <span>Multiple File</span>\n                </div>\n              </Button>\n            </label>\n            <input\n              className=\"d-none\"\n              onChange={this.handleFileSelect}\n              id=\"upload-multiple-file\"\n              type=\"file\"\n              multiple\n            />\n          </div>\n\n          <div\n            className={`${dragClass} dropzone mb-4 d-flex justify-content-center align-items-center`}\n            onDragEnter={this.handleDragStart}\n            onDragOver={this.handleDragOver}\n            onDrop={this.handleDrop}\n          >\n            {isEmpty ? (\n              <span>Drop your files here</span>\n            ) : (\n              <h5 className=\"m-0\">\n                {files.length} file{files.length > 1 ? \"s\" : \"\"} selected...\n              </h5>\n            )}\n          </div>\n\n          <Card className=\"mb-4\">\n            <Row className=\"align-items-center p-3\">\n              <Col lg={4} md={4}>\n                Name\n              </Col>\n              <Col lg={1} md={1}>\n                Size\n              </Col>\n              <Col lg={2} md={2}>\n                Progress\n              </Col>\n              <Col lg={1} md={1}>\n                Status\n              </Col>\n              <Col lg={4} md={4}>\n                Actions\n              </Col>\n            </Row>\n            <hr className=\"mt-0 mb-3\" />\n\n            {isEmpty && <p className=\"p-3 py-0\">Que is empty</p>}\n\n            {files.map((item, index) => {\n              let { file, uploading, error, progress } = item;\n              return (\n                <Row className=\"align-items-center px-3\" key={file.name}>\n                  <Col lg={4} md={4} sm={12} xs={12} className=\"mb-3\">\n                    {file.name}\n                  </Col>\n                  <Col lg={1} md={1} sm={12} xs={12} className=\"mb-3\">\n                    {(file.size / 1024 / 1024).toFixed(1)} MB\n                  </Col>\n                  <Col lg={2} md={2} sm={12} xs={12} className=\"mb-3\">\n                    <ProgressBar\n                      now={progress}\n                      variant=\"success\"\n                      className=\"progress-thin\"\n                    ></ProgressBar>\n                  </Col>\n                  <Col lg={1} md={1} sm={12} xs={12} className=\"mb-3\">\n                    {error && (\n                      <i className=\"i-Information text-danger text-18\"> </i>\n                    )}\n                  </Col>\n                  <Col lg={4} md={4} sm={12} xs={12} className=\"mb-3\">\n                    <div className=\"d-flex\">\n                      <Button\n                        disabled={uploading}\n                        onClick={() => this.uploadSingleFile(index)}\n                      >\n                        Upload\n                      </Button>\n                      <Button\n                        className=\"mx-8\"\n                        variant=\"warning\"\n                        disabled={!uploading}\n                        onClick={() => this.handleSingleCancel(index)}\n                      >\n                        Cancel\n                      </Button>\n                      <Button\n                        variant=\"danger\"\n                        onClick={() => this.handleSingleRemove(index)}\n                      >\n                        Remove\n                      </Button>\n                    </div>\n                  </Col>\n                </Row>\n              );\n            })}\n          </Card>\n\n          <div>\n            <p className=\"m-0\">Queue progress:</p>\n            <div className=\"py-3\">\n              <ProgressBar\n                now={queProgress}\n                variant=\"success\"\n                className=\"progress-thin\"\n              ></ProgressBar>\n            </div>\n            <div className=\"flex\">\n              <Button disabled={isEmpty} onClick={this.uploadAllFile}>\n                Upload All\n              </Button>\n              <Button\n                className=\"mx-8\"\n                variant=\"warning\"\n                disabled={isEmpty}\n                onClick={this.handleCancelAll}\n              >\n                Cancel All\n              </Button>\n              {!isEmpty && (\n                <Button variant=\"danger\" onClick={this.handleAllRemove}>\n                  Remove All\n                </Button>\n              )}\n            </div>\n          </div>\n        </SimpleCard>\n      </div>\n    );\n  }\n}\n\nexport default UploadTaskImage;\n"]},"metadata":{},"sourceType":"module"}