{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Breadcrumb}from\"@gull\";import{getAllUser,deleteUser,addNewUser,updateUser}from\"./contactService\";import ReactPaginate from\"react-paginate\";import{Dropdown}from\"react-bootstrap\";import{MdMoreVert}from\"react-icons/md\";import ContactEditor from\"./ContactEditor\";import swal from\"sweetalert2\";var ContactTable=/*#__PURE__*/function(_Component){_inherits(ContactTable,_Component);var _super=_createSuper(ContactTable);function ContactTable(){var _this;_classCallCheck(this,ContactTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rowsPerPage:10,page:0,userList:[],showEditorDialog:false,searchQuery:\"\",dialogValues:null};_this.updatePageData=function(){getAllUser().then(function(_ref){var data=_ref.data;return _this.setState({userList:_toConsumableArray(data)});});};_this.handleSearch=function(_ref2){var value=_ref2.target.value;_this.setState({searchQuery:value});};_this.handlePageClick=function(data){var page=data.selected;_this.setState({page:page});};_this.toggleEditorDialog=function(arg){if(arg&&arg.toString())_this.setState({showEditorDialog:arg,dialogValues:null});else _this.setState({showEditorDialog:!_this.state.showEditorDialog,dialogValues:null});};_this.handleEditContact=function(dialogValues){_this.setState({dialogValues:dialogValues,showEditorDialog:true});};_this.handleDeleteContact=function(values){deleteUser(values).then(function(_ref3){var userList=_ref3.data;_this.setState({userList:userList});swal.fire({title:\"Deleted!\",text:\"Your file has been deleted.\",type:\"success\",icon:\"success\",timer:1500});});};_this.handleFormSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var dialogValues,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dialogValues=_this.state.dialogValues;if(dialogValues){_context.next=7;break;}_context.next=4;return addNewUser(values);case 4:res=_context.sent;_context.next=10;break;case 7:_context.next=9;return updateUser(_objectSpread(_objectSpread({},dialogValues),values));case 9:res=_context.sent;case 10:_this.setState({userList:res.data});_this.toggleEditorDialog(false);case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref4.apply(this,arguments);};}();return _this;}_createClass(ContactTable,[{key:\"componentDidMount\",value:function componentDidMount(){this.updatePageData();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,rowsPerPage=_this$state.rowsPerPage,page=_this$state.page,_this$state$userList=_this$state.userList,userList=_this$state$userList===void 0?[]:_this$state$userList,dialogValues=_this$state.dialogValues,searchQuery=_this$state.searchQuery,showEditorDialog=_this$state.showEditorDialog;userList=userList.filter(function(user){return user.name.toLowerCase().match(searchQuery.toLowerCase());});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{routeSegments:[{name:\"Home\",path:\"/\"},{name:\"Contact\",path:\"/contact\"},{name:\"Contact Table\"}]}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header  gradient-purple-indigo  0-hidden pb-80\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"col-md-4 text-white\"},\"Contacts\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-rounded col-md-4 ml-3 mr-3\",placeholder:\"Search Contacts...\",onChange:this.handleSearch,values:searchQuery})))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-contact-list-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-contact-main-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-contact-left-side\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-contact-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contact-close-mobile-icon float-right mb-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Close-Window text-15 font-weight-600\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-block mb-4\",onClick:this.toggleEditorDialog},\"ADD CONTACT\"),/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\",id:\"list-tab\",role:\"tablist\"},/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0 active\",id:\"list-home-list\",\"data-toggle\":\"list\",href:\"#list-home\",role:\"tab\",\"aria-controls\":\"home\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Business-Mens\"},\" \"),\"Contact List\"),/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0\",id:\"list-profile-list\",\"data-toggle\":\"list\",href:\"#list-profile\",role:\"tab\",\"aria-controls\":\"profile\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Conference\"},\" \"),\"Conected\"),/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0\",id:\"list-settings-list\",\"data-toggle\":\"list\",href:\"#list-settings\",role:\"tab\",\"aria-controls\":\"settings\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Pen-2\"},\" \"),\"Settings\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"text-muted font-weight-600 py-8\"},\"MEMBERS\"),/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0 \",id:\"list-home-list\",\"data-toggle\":\"list\",href:\"#list-home\",role:\"tab\",\"aria-controls\":\"home\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Arrow-Next\"},\" \"),\"Contact List\"),/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0\",id:\"list-profile-list\",\"data-toggle\":\"list\",href:\"#list-profile\",role:\"tab\",\"aria-controls\":\"profile\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Arrow-Next\"},\" \"),\"Conected\"),/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action border-0\",id:\"list-settings-list\",\"data-toggle\":\"list\",href:\"#list-settings\",role:\"tab\",\"aria-controls\":\"settings\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Arrow-Next\"},\" \"),\"Settings\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"ul-contact-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Align-Justify-All text-25 ul-contact-mobile-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-content ul-contact-list-table--label\",id:\"nav-tabContent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-pane fade show active\"},/*#__PURE__*/React.createElement(\"div\",{className:\" text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{id:\"contact_list_table\",className:\"display table  table-borderless ul-contact-list-table w-100\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"border-bottom\"},/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null,\"Phone\"),/*#__PURE__*/React.createElement(\"th\",null,\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,userList.slice(rowsPerPage*page,rowsPerPage*(page+1)).map(function(user,ind){return/*#__PURE__*/React.createElement(\"tr\",{key:ind},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"rounded-circle m-0 avatar-sm-table \",src:user.imgUrl,alt:\"\"}),user.name),/*#__PURE__*/React.createElement(\"td\",null,user.email),/*#__PURE__*/React.createElement(\"td\",null,user.phone),/*#__PURE__*/React.createElement(\"td\",{valign:\"middle\"},/*#__PURE__*/React.createElement(Dropdown,{alignRight:true},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:\"span\",className:\"cursor-pointer toggle-hidden\"},/*#__PURE__*/React.createElement(MdMoreVert,{size:18})),/*#__PURE__*/React.createElement(Dropdown.Menu,null,/*#__PURE__*/React.createElement(Dropdown.Item,{onClick:function onClick(){return _this2.handleEditContact(user);}},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Pen-2 text-success font-weight-bold mr-2\"}),\"Edit Contact\"),/*#__PURE__*/React.createElement(Dropdown.Item,{onClick:function onClick(){swal.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",icon:\"warning\",type:\"question\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\",cancelButtonText:\"No\"}).then(function(result){if(result.value){_this2.handleDeleteContact(user);}else{swal.fire(\"Cancelled!\",\"Permission denied.\",\"error\");}});}},/*#__PURE__*/React.createElement(\"i\",{className:\"nav-icon i-Close-Window text-danger font-weight-bold mr-2\"}),\"Delete Contact\")))));}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(ReactPaginate,{previousLabel:\"Previous\",nextLabel:\"Next\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:Math.ceil(userList.length/rowsPerPage),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:this.handlePageClick,containerClassName:\"pagination pagination-lg\",subContainerClassName:\"pages pagination\",activeClassName:\"active\"}))))))))))),/*#__PURE__*/React.createElement(ContactEditor,{show:showEditorDialog,toggleEditorDialog:this.toggleEditorDialog,initialValues:dialogValues,handleFormSubmit:this.handleFormSubmit}));}}]);return ContactTable;}(Component);export default ContactTable;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/src/app/views/app/contact/ContactTable.jsx"],"names":["React","Component","Breadcrumb","getAllUser","deleteUser","addNewUser","updateUser","ReactPaginate","Dropdown","MdMoreVert","ContactEditor","swal","ContactTable","state","rowsPerPage","page","userList","showEditorDialog","searchQuery","dialogValues","updatePageData","then","data","setState","handleSearch","value","target","handlePageClick","selected","toggleEditorDialog","arg","toString","handleEditContact","handleDeleteContact","values","fire","title","text","type","icon","timer","handleFormSubmit","res","filter","user","name","toLowerCase","match","path","slice","map","ind","imgUrl","email","phone","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","Math","ceil","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Breadcrumb } from \"@gull\";\nimport {\n  getAllUser,\n  deleteUser,\n  addNewUser,\n  updateUser\n} from \"./contactService\";\nimport ReactPaginate from \"react-paginate\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { MdMoreVert } from \"react-icons/md\";\nimport ContactEditor from \"./ContactEditor\";\nimport swal from \"sweetalert2\";\n\nclass ContactTable extends Component {\n  state = {\n    rowsPerPage: 10,\n    page: 0,\n    userList: [],\n    showEditorDialog: false,\n    searchQuery: \"\",\n    dialogValues: null\n  };\n\n  updatePageData = () => {\n    getAllUser().then(({ data }) => this.setState({ userList: [...data] }));\n  };\n\n  handleSearch = ({ target: { value } }) => {\n    this.setState({ searchQuery: value });\n  };\n\n  handlePageClick = data => {\n    let page = data.selected;\n    this.setState({ page });\n  };\n\n  toggleEditorDialog = arg => {\n    if (arg && arg.toString())\n      this.setState({ showEditorDialog: arg, dialogValues: null });\n    else\n      this.setState({\n        showEditorDialog: !this.state.showEditorDialog,\n        dialogValues: null\n      });\n  };\n\n  handleEditContact = dialogValues => {\n    this.setState({ dialogValues, showEditorDialog: true });\n  };\n\n  handleDeleteContact = values => {\n    deleteUser(values).then(({ data: userList }) => {\n      this.setState({ userList });\n      swal.fire({\n        title: \"Deleted!\",\n        text: \"Your file has been deleted.\",\n        type: \"success\",\n        icon: \"success\",\n        timer: 1500\n      });\n    });\n  };\n\n  handleFormSubmit = async values => {\n    let { dialogValues } = this.state;\n    let res;\n    if (!dialogValues) {\n      res = await addNewUser(values);\n    } else {\n      res = await updateUser({ ...dialogValues, ...values });\n    }\n    this.setState({ userList: res.data });\n    this.toggleEditorDialog(false);\n  };\n\n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  render() {\n    let {\n      rowsPerPage,\n      page,\n      userList = [],\n      dialogValues,\n      searchQuery,\n      showEditorDialog\n    } = this.state;\n\n    userList = userList.filter(user =>\n      user.name.toLowerCase().match(searchQuery.toLowerCase())\n    );\n\n    return (\n      <div>\n        <Breadcrumb\n          routeSegments={[\n            { name: \"Home\", path: \"/\" },\n            { name: \"Contact\", path: \"/contact\" },\n            { name: \"Contact Table\" }\n          ]}\n        ></Breadcrumb>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"card\">\n              <div className=\"card-header  gradient-purple-indigo  0-hidden pb-80\">\n                <div className=\"pt-4\">\n                  <div className=\"row\">\n                    <h4 className=\"col-md-4 text-white\">Contacts</h4>\n                    <input\n                      type=\"text\"\n                      className=\"form-control form-control-rounded col-md-4 ml-3 mr-3\"\n                      placeholder=\"Search Contacts...\"\n                      onChange={this.handleSearch}\n                      values={searchQuery}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"ul-contact-list-body\">\n                  <div className=\"ul-contact-main-content\">\n                    <div className=\"ul-contact-left-side\">\n                      <div className=\"card\">\n                        <div className=\"card-body\">\n                          <div className=\"ul-contact-list\">\n                            <div className=\"contact-close-mobile-icon float-right mb-2\">\n                              <i className=\"i-Close-Window text-15 font-weight-600\"></i>\n                            </div>\n                            {/* <!-- modal  --> */}\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-outline-secondary btn-block mb-4\"\n                              onClick={this.toggleEditorDialog}\n                            >\n                              ADD CONTACT\n                            </button>\n\n                            {/* <!-- end:modal  --> */}\n\n                            <div\n                              className=\"list-group\"\n                              id=\"list-tab\"\n                              role=\"tablist\"\n                            >\n                              <span\n                                className=\"list-group-item list-group-item-action border-0 active\"\n                                id=\"list-home-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-home\"\n                                role=\"tab\"\n                                aria-controls=\"home\"\n                              >\n                                <i className=\"nav-icon i-Business-Mens\"> </i>\n                                Contact List\n                              </span>\n                              <span\n                                className=\"list-group-item list-group-item-action border-0\"\n                                id=\"list-profile-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-profile\"\n                                role=\"tab\"\n                                aria-controls=\"profile\"\n                              >\n                                <i className=\"nav-icon i-Conference\"> </i>\n                                Conected\n                              </span>\n                              <span\n                                className=\"list-group-item list-group-item-action border-0\"\n                                id=\"list-settings-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-settings\"\n                                role=\"tab\"\n                                aria-controls=\"settings\"\n                              >\n                                <i className=\"nav-icon i-Pen-2\"> </i>\n                                Settings\n                              </span>\n\n                              <label\n                                htmlFor=\"\"\n                                className=\"text-muted font-weight-600 py-8\"\n                              >\n                                MEMBERS\n                              </label>\n\n                              <span\n                                className=\"list-group-item list-group-item-action border-0 \"\n                                id=\"list-home-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-home\"\n                                role=\"tab\"\n                                aria-controls=\"home\"\n                              >\n                                <i className=\"nav-icon i-Arrow-Next\"> </i>\n                                Contact List\n                              </span>\n                              <span\n                                className=\"list-group-item list-group-item-action border-0\"\n                                id=\"list-profile-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-profile\"\n                                role=\"tab\"\n                                aria-controls=\"profile\"\n                              >\n                                <i className=\"nav-icon i-Arrow-Next\"> </i>\n                                Conected\n                              </span>\n                              <span\n                                className=\"list-group-item list-group-item-action border-0\"\n                                id=\"list-settings-list\"\n                                data-toggle=\"list\"\n                                href=\"#list-settings\"\n                                role=\"tab\"\n                                aria-controls=\"settings\"\n                              >\n                                <i className=\"nav-icon i-Arrow-Next\"> </i>\n                                Settings\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"ul-contact-content\">\n                      <div className=\"card\">\n                        <div className=\"card-body\">\n                          <div className=\"float-left\">\n                            <i className=\"nav-icon i-Align-Justify-All text-25 ul-contact-mobile-icon\"></i>\n                          </div>\n                          <div\n                            className=\"tab-content ul-contact-list-table--label\"\n                            id=\"nav-tabContent\"\n                          >\n                            {/* <!-- all-contact  --> */}\n                            <div className=\"tab-pane fade show active\">\n                              <div className=\" text-left\">\n                                <div className=\"table-responsive\">\n                                  <table\n                                    id=\"contact_list_table\"\n                                    className=\"display table  table-borderless ul-contact-list-table w-100\"\n                                  >\n                                    <thead>\n                                      <tr className=\"border-bottom\">\n                                        <th>Name</th>\n                                        <th>Email</th>\n                                        <th>Phone</th>\n                                        <th>Action</th>\n                                      </tr>\n                                    </thead>\n                                    <tbody>\n                                      {userList\n                                        .slice(\n                                          rowsPerPage * page,\n                                          rowsPerPage * (page + 1)\n                                        )\n                                        .map((user, ind) => (\n                                          <tr key={ind}>\n                                            <td>\n                                              <img\n                                                className=\"rounded-circle m-0 avatar-sm-table \"\n                                                src={user.imgUrl}\n                                                alt=\"\"\n                                              />\n                                              {user.name}\n                                            </td>\n                                            <td>{user.email}</td>\n                                            <td>{user.phone}</td>\n                                            <td valign=\"middle\">\n                                              <Dropdown alignRight>\n                                                <Dropdown.Toggle\n                                                  as=\"span\"\n                                                  className=\"cursor-pointer toggle-hidden\"\n                                                >\n                                                  <MdMoreVert\n                                                    size={18}\n                                                  ></MdMoreVert>\n                                                </Dropdown.Toggle>\n                                                <Dropdown.Menu>\n                                                  <Dropdown.Item\n                                                    onClick={() =>\n                                                      this.handleEditContact(\n                                                        user\n                                                      )\n                                                    }\n                                                  >\n                                                    <i className=\"nav-icon i-Pen-2 text-success font-weight-bold mr-2\"></i>\n                                                    Edit Contact\n                                                  </Dropdown.Item>\n                                                  <Dropdown.Item\n                                                    onClick={() => {\n                                                      swal\n                                                        .fire({\n                                                          title:\n                                                            \"Are you sure?\",\n                                                          text:\n                                                            \"You won't be able to revert this!\",\n                                                          icon: \"warning\",\n                                                          type: \"question\",\n                                                          showCancelButton: true,\n                                                          confirmButtonColor:\n                                                            \"#3085d6\",\n                                                          cancelButtonColor:\n                                                            \"#d33\",\n                                                          confirmButtonText:\n                                                            \"Yes, delete it!\",\n                                                          cancelButtonText: \"No\"\n                                                        })\n                                                        .then(result => {\n                                                          if (result.value) {\n                                                            this.handleDeleteContact(\n                                                              user\n                                                            );\n                                                          } else {\n                                                            swal.fire(\n                                                              \"Cancelled!\",\n                                                              \"Permission denied.\",\n                                                              \"error\"\n                                                            );\n                                                          }\n                                                        });\n                                                    }}\n                                                  >\n                                                    <i className=\"nav-icon i-Close-Window text-danger font-weight-bold mr-2\"></i>\n                                                    Delete Contact\n                                                  </Dropdown.Item>\n                                                </Dropdown.Menu>\n                                              </Dropdown>\n                                            </td>\n                                          </tr>\n                                        ))}\n                                    </tbody>\n                                  </table>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"d-flex justify-content-end\">\n                            <ReactPaginate\n                              previousLabel={\"Previous\"}\n                              nextLabel={\"Next\"}\n                              breakLabel={\"...\"}\n                              breakClassName={\"break-me\"}\n                              pageCount={Math.ceil(\n                                userList.length / rowsPerPage\n                              )}\n                              marginPagesDisplayed={2}\n                              pageRangeDisplayed={3}\n                              onPageChange={this.handlePageClick}\n                              containerClassName={\"pagination pagination-lg\"}\n                              subContainerClassName={\"pages pagination\"}\n                              activeClassName={\"active\"}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <ContactEditor\n          show={showEditorDialog}\n          toggleEditorDialog={this.toggleEditorDialog}\n          initialValues={dialogValues}\n          handleFormSubmit={this.handleFormSubmit}\n        ></ContactEditor>\n      </div>\n    );\n  }\n}\n\nexport default ContactTable;\n"]},"metadata":{},"sourceType":"module"}