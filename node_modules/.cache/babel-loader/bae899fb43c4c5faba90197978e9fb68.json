{"ast":null,"code":"import axios from \"axios\";\nimport localStorageService from \"./localStorageService\";\n\nclass JwtAuthService {\n  constructor() {\n    this.user = {\n      userId: \"1\",\n      role: 'ADMIN',\n      displayName: \"Watson Joyce\",\n      email: \"watsonjoyce@gmail.com\",\n      photoURL: \"/assets/images/face-7.jpg\",\n      age: 25,\n      token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n    };\n\n    this.loginWithEmailAndPassword = (email, password) => {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(this.user);\n        }, 1000);\n      }).then(data => {\n        this.setSession(data.token);\n        this.setUser(data);\n        return data;\n      });\n    };\n\n    this.loginWithToken = () => {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(this.user);\n        }, 100);\n      }).then(data => {\n        this.setSession(data.token);\n        this.setUser(data);\n        return data;\n      });\n    };\n\n    this.logout = () => {\n      this.setSession(null);\n      this.removeUser();\n    };\n\n    this.setSession = token => {\n      if (token) {\n        localStorage.setItem(\"jwt_token\", token);\n        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n      } else {\n        localStorage.removeItem(\"jwt_token\");\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n    };\n\n    this.setUser = user => {\n      localStorageService.setItem(\"auth_user\", user);\n    };\n\n    this.removeUser = () => {\n      localStorage.removeItem(\"auth_user\");\n    };\n  }\n\n}\n\nexport default new JwtAuthService();","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/services/jwtAuthService.js"],"names":["axios","localStorageService","JwtAuthService","user","userId","role","displayName","email","photoURL","age","token","loginWithEmailAndPassword","password","Promise","resolve","reject","setTimeout","then","data","setSession","setUser","loginWithToken","logout","removeUser","localStorage","setItem","defaults","headers","common","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;;AAEA,MAAMC,cAAN,CAAqB;AAAA;AAAA,SAEnBC,IAFmB,GAEZ;AACLC,MAAAA,MAAM,EAAE,GADH;AAELC,MAAAA,IAAI,EAAE,OAFD;AAGLC,MAAAA,WAAW,EAAE,cAHR;AAILC,MAAAA,KAAK,EAAE,uBAJF;AAKLC,MAAAA,QAAQ,EAAE,2BALL;AAMLC,MAAAA,GAAG,EAAE,EANA;AAOLC,MAAAA,KAAK,EAAE;AAPF,KAFY;;AAAA,SAYnBC,yBAZmB,GAYS,CAACJ,KAAD,EAAQK,QAAR,KAAqB;AAC/C,aAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,QAAAA,UAAU,CAAC,MAAM;AACfF,UAAAA,OAAO,CAAC,KAAKX,IAAN,CAAP;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OAJM,EAIJc,IAJI,CAICC,IAAI,IAAI;AACd,aAAKC,UAAL,CAAgBD,IAAI,CAACR,KAArB;AACA,aAAKU,OAAL,CAAaF,IAAb;AACA,eAAOA,IAAP;AACD,OARM,CAAP;AASD,KAtBkB;;AAAA,SAwBnBG,cAxBmB,GAwBF,MAAM;AACrB,aAAO,IAAIR,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,QAAAA,UAAU,CAAC,MAAM;AACfF,UAAAA,OAAO,CAAC,KAAKX,IAAN,CAAP;AACD,SAFS,EAEP,GAFO,CAAV;AAGD,OAJM,EAIJc,IAJI,CAICC,IAAI,IAAI;AACd,aAAKC,UAAL,CAAgBD,IAAI,CAACR,KAArB;AACA,aAAKU,OAAL,CAAaF,IAAb;AACA,eAAOA,IAAP;AACD,OARM,CAAP;AASD,KAlCkB;;AAAA,SAsCnBI,MAtCmB,GAsCV,MAAM;AACb,WAAKH,UAAL,CAAgB,IAAhB;AACA,WAAKI,UAAL;AACD,KAzCkB;;AAAA,SA2CnBJ,UA3CmB,GA2CNT,KAAK,IAAI;AACpB,UAAIA,KAAJ,EAAW;AACTc,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCf,KAAlC;AACAV,QAAAA,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYlB,KAA7D;AACD,OAHD,MAGO;AACLc,QAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACA,eAAO7B,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACD;AACF,KAnDkB;;AAAA,SAoDnBR,OApDmB,GAoDRjB,IAAD,IAAU;AAClBF,MAAAA,mBAAmB,CAACwB,OAApB,CAA4B,WAA5B,EAAyCtB,IAAzC;AACD,KAtDkB;;AAAA,SAuDnBoB,UAvDmB,GAuDN,MAAM;AACjBC,MAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACD,KAzDkB;AAAA;;AAAA;;AA4DrB,eAAe,IAAI3B,cAAJ,EAAf","sourcesContent":["import axios from \"axios\";\nimport localStorageService from \"./localStorageService\";\n\nclass JwtAuthService {\n  \n  user = {\n    userId: \"1\",\n    role: 'ADMIN',\n    displayName: \"Watson Joyce\",\n    email: \"watsonjoyce@gmail.com\",\n    photoURL: \"/assets/images/face-7.jpg\",\n    age: 25,\n    token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n  }\n\n  loginWithEmailAndPassword = (email, password) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 1000);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  loginWithToken = () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 100);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  \n\n  logout = () => {\n    this.setSession(null);\n    this.removeUser();\n  }\n\n  setSession = token => {\n    if (token) {\n      localStorage.setItem(\"jwt_token\", token);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    } else {\n      localStorage.removeItem(\"jwt_token\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n    }\n  };\n  setUser = (user) => {    \n    localStorageService.setItem(\"auth_user\", user);\n  }\n  removeUser = () => {\n    localStorage.removeItem(\"auth_user\");\n  }\n}\n\nexport default new JwtAuthService();\n"]},"metadata":{},"sourceType":"module"}