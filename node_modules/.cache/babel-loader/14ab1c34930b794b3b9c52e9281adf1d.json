{"ast":null,"code":"import _toConsumableArray from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Modal,FormControl,Button}from\"react-bootstrap\";import{getAllTodoTag,addNewTag,deleteTag}from\"./todoService\";import{generateRandomId}from\"@utils\";var TagDialog=/*#__PURE__*/function(_Component){_inherits(TagDialog,_Component);var _super=_createSuper(TagDialog);function TagDialog(){var _this;_classCallCheck(this,TagDialog);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",tagList:[]};_this.handleChange=function(event){if(event.key===\"Enter\"){_this.handleAddNewTag();}else{_this.setState({name:event.target.value});}};_this.handleAddNewTag=function(event){var name=_this.state.name;if(name.trim()!==\"\")addNewTag({id:generateRandomId(),name:name.trim()}).then(function(_ref){var data=_ref.data;_this.setState({tagList:data,name:\"\"});_this.props.reloadTagList();});};_this.handleDeleteTag=function(id){deleteTag({id:id,name:_this.state.name}).then(function(_ref2){var data=_ref2.data;_this.setState({tagList:data});_this.props.reloadTagList();});};return _this;}_createClass(TagDialog,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getAllTodoTag().then(function(_ref3){var data=_ref3.data;_this2.setState({tagList:_toConsumableArray(data)});});}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,open=_this$props.open,handleClose=_this$props.handleClose;var _this$state=this.state,tagList=_this$state.tagList,name=_this$state.name;return/*#__PURE__*/React.createElement(Modal,{onHide:handleClose,show:open,size:\"sm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(FormControl,{onChange:this.handleChange,onKeyDown:this.handleChange,value:name,className:\"flex-grow-1\",placeholder:\"New tag*\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:this.handleAddNewTag,className:\"\",variant:\"primary\"},\"Add\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-3\"},tagList.map(function(tag,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between my-2\",key:tag.id},/*#__PURE__*/React.createElement(\"span\",null,index+1),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize\"},tag.name),/*#__PURE__*/React.createElement(Button,{onClickCapture:function onClickCapture(){return _this3.handleDeleteTag(tag.id);},variant:\"danger\"},\"Delete\"));})),/*#__PURE__*/React.createElement(\"div\",{className:\"pt-3 text-right\"},/*#__PURE__*/React.createElement(Button,{onClick:handleClose,variant:\"outline-danger\"},\"Close\"))));}}]);return TagDialog;}(Component);export default TagDialog;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/views/app/task-manager/todo/TagDialog.jsx"],"names":["React","Component","Modal","FormControl","Button","getAllTodoTag","addNewTag","deleteTag","generateRandomId","TagDialog","state","name","tagList","handleChange","event","key","handleAddNewTag","setState","target","value","trim","id","then","data","props","reloadTagList","handleDeleteTag","open","handleClose","map","tag","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, FormControl, Button } from \"react-bootstrap\";\nimport { getAllTodoTag, addNewTag, deleteTag } from \"./todoService\";\nimport { generateRandomId } from \"@utils\";\n\nclass TagDialog extends Component {\n  state = {\n    name: \"\",\n    tagList: []\n  };\n\ncomponentDidMount() {\n  getAllTodoTag().then(({ data }) => {\n    this.setState({\n      tagList: [...data]\n    });\n  });\n}\n\n  handleChange = event => {\n    if (event.key === \"Enter\") {\n      this.handleAddNewTag();\n    } else {\n      this.setState({\n        name: event.target.value\n      });\n    }\n  };\n\n  handleAddNewTag = event => {\n    let { name } = this.state;\n\n    if (name.trim() !== \"\")\n      addNewTag({\n        id: generateRandomId(),\n        name: name.trim()\n      }).then(({ data }) => {\n        this.setState({ tagList: data, name: \"\" });\n        this.props.reloadTagList();\n      });\n  };\n\n  handleDeleteTag = id => {\n    deleteTag({ id, name: this.state.name }).then(({ data }) => {\n      this.setState({ tagList: data });\n      this.props.reloadTagList();\n    });\n  };\n\n  render() {\n    let { open, handleClose } = this.props;\n    let { tagList, name } = this.state;\n\n    return (\n      <Modal onHide={handleClose} show={open} size=\"sm\">\n        <div className=\"px-3 py-4\">\n          <div className=\"d-flex align-items-center\">\n            <FormControl\n              onChange={this.handleChange}\n              onKeyDown={this.handleChange}\n              value={name}\n              className=\"flex-grow-1\"\n              placeholder=\"New tag*\"\n            />\n            <div>\n              <Button\n                onClick={this.handleAddNewTag}\n                className=\"\"\n                variant=\"primary\"\n              >\n                Add\n              </Button>\n            </div>\n          </div>\n          <div className=\"pt-3\">\n            {tagList.map((tag, index) => (\n              <div\n                className=\"d-flex align-items-center justify-content-between my-2\"\n                key={tag.id}\n              >\n                <span>{index + 1}</span>\n                <span className=\"text-capitalize\">{tag.name}</span>\n                <Button\n                  onClickCapture={() => this.handleDeleteTag(tag.id)}\n                  variant=\"danger\"\n                >\n                  Delete\n                </Button>\n              </div>\n            ))}\n          </div>\n          <div className=\"pt-3 text-right\">\n            <Button onClick={handleClose} variant=\"outline-danger\">\n              Close\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default TagDialog;\n"]},"metadata":{},"sourceType":"module"}