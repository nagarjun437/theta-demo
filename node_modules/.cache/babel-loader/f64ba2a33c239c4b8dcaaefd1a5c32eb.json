{"ast":null,"code":"import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{VictoryChart,VictoryLabel,VictoryTheme,VictoryPolarAxis,VictoryBar,VictoryStack}from\"victory\";import*as _ from\"lodash\";var directions={0:\"E\",45:\"NE\",90:\"N\",135:\"NW\",180:\"W\",225:\"SW\",270:\"S\",315:\"SE\"};var orange={base:\"gold\",highlight:\"darkOrange\"};var red={base:\"tomato\",highlight:\"orangeRed\"};var innerRadius=30;var CompassCenter=/*#__PURE__*/function(_Component){_inherits(CompassCenter,_Component);var _super=_createSuper(CompassCenter);function CompassCenter(){_classCallCheck(this,CompassCenter);return _super.apply(this,arguments);}_createClass(CompassCenter,[{key:\"render\",value:function render(){var origin=this.props.origin;var circleStyle={stroke:red.base,strokeWidth:2,fill:orange.base};return/*#__PURE__*/React.createElement(\"g\",null,/*#__PURE__*/React.createElement(\"circle\",{cx:origin.x,cy:origin.y,r:innerRadius,style:circleStyle}));}}]);return CompassCenter;}(Component);var CenterLabel=/*#__PURE__*/function(_Component2){_inherits(CenterLabel,_Component2);var _super2=_createSuper(CenterLabel);function CenterLabel(){_classCallCheck(this,CenterLabel);return _super2.apply(this,arguments);}_createClass(CenterLabel,[{key:\"render\",value:function render(){var _this$props=this.props,datum=_this$props.datum,active=_this$props.active,color=_this$props.color;var text=[\"\".concat(directions[datum._x]),\"\".concat(Math.round(datum._y1),\" mph\")];var baseStyle={fill:color.highlight,textAnchor:\"middle\"};var style=[_objectSpread(_objectSpread({},baseStyle),{},{fontSize:18,fontWeight:\"bold\"}),_objectSpread(_objectSpread({},baseStyle),{},{fontSize:12})];return active?/*#__PURE__*/React.createElement(VictoryLabel,{text:text,style:style,x:175,y:175,renderInPortal:true}):null;}}]);return CenterLabel;}(Component);var StackedPolarBar=/*#__PURE__*/function(_Component3){_inherits(StackedPolarBar,_Component3);var _super3=_createSuper(StackedPolarBar);function StackedPolarBar(props){var _this;_classCallCheck(this,StackedPolarBar);_this=_super3.call(this,props);_this.state={wind:_this.getWindData()};return _this;}_createClass(StackedPolarBar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setStateInterval=window.setInterval(function(){_this2.setState({wind:_this2.getWindData()});},4000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.setStateInterval)window.clearInterval(this.setStateInterval);}},{key:\"getWindData\",value:function getWindData(){return _.keys(directions).map(function(d){var speed=Math.floor(_.random()*17)+4;return{windSpeed:speed,windGust:speed+_.random(2,10),windBearing:+d};});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(VictoryChart,{style:{parent:{maxWidth:\"320px\"}},polar:true,animate:{duration:500,onLoad:{duration:500}},theme:VictoryTheme.material,innerRadius:innerRadius,domainPadding:{y:10},events:[{childName:\"all\",target:\"data\",eventHandlers:{onMouseOver:function onMouseOver(){return[{target:\"labels\",mutation:function mutation(){return{active:true};}},{target:\"data\",mutation:function mutation(){return{active:true};}}];},onMouseOut:function onMouseOut(){return[{target:\"labels\",mutation:function mutation(){return{active:false};}},{target:\"data\",mutation:function mutation(){return{active:false};}}];}}}]},/*#__PURE__*/React.createElement(VictoryPolarAxis,{dependentAxis:true,labelPlacement:\"vertical\",style:{axis:{stroke:\"none\"}},tickFormat:function tickFormat(){return\"\";}}),/*#__PURE__*/React.createElement(VictoryPolarAxis,{labelPlacement:\"parallel\",tickValues:_.keys(directions).map(function(k){return+k;}),tickFormat:_.values(directions)}),/*#__PURE__*/React.createElement(VictoryStack,null,/*#__PURE__*/React.createElement(VictoryBar,{style:{data:{fill:function fill(_ref){var active=_ref.active;return active?orange.highlight:orange.base;},width:40}},data:this.state.wind,x:\"windBearing\",y:\"windSpeed\",labels:function labels(){return\"\";},labelComponent:/*#__PURE__*/React.createElement(CenterLabel,{color:orange})}),/*#__PURE__*/React.createElement(VictoryBar,{style:{data:{fill:function fill(d,a){return a?red.highlight:red.base;},width:40}},data:this.state.wind,x:\"windBearing\",y:function y(d){return d.windGust-d.windSpeed;},labels:function labels(){return\"\";},labelComponent:/*#__PURE__*/React.createElement(CenterLabel,{color:red})})),/*#__PURE__*/React.createElement(CompassCenter,null));}}]);return StackedPolarBar;}(Component);export default StackedPolarBar;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/views/charts/victory-charts/StackedPolarBar.jsx"],"names":["React","Component","VictoryChart","VictoryLabel","VictoryTheme","VictoryPolarAxis","VictoryBar","VictoryStack","_","directions","orange","base","highlight","red","innerRadius","CompassCenter","origin","props","circleStyle","stroke","strokeWidth","fill","x","y","CenterLabel","datum","active","color","text","_x","Math","round","_y1","baseStyle","textAnchor","style","fontSize","fontWeight","StackedPolarBar","state","wind","getWindData","setStateInterval","window","setInterval","setState","clearInterval","keys","map","d","speed","floor","random","windSpeed","windGust","windBearing","parent","maxWidth","duration","onLoad","material","childName","target","eventHandlers","onMouseOver","mutation","onMouseOut","axis","k","values","data","width","a"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  VictoryChart,\n  VictoryLabel,\n  VictoryTheme,\n  VictoryPolarAxis,\n  VictoryBar,\n  VictoryStack\n} from \"victory\";\nimport * as _ from \"lodash\";\n\nconst directions = {\n  0: \"E\",\n  45: \"NE\",\n  90: \"N\",\n  135: \"NW\",\n  180: \"W\",\n  225: \"SW\",\n  270: \"S\",\n  315: \"SE\"\n};\n\nconst orange = { base: \"gold\", highlight: \"darkOrange\" };\n\nconst red = { base: \"tomato\", highlight: \"orangeRed\" };\n\nconst innerRadius = 30;\n\nclass CompassCenter extends Component {\n  render() {\n    const { origin } = this.props;\n    const circleStyle = {\n      stroke: red.base,\n      strokeWidth: 2,\n      fill: orange.base\n    };\n    return (\n      <g>\n        <circle\n          cx={origin.x}\n          cy={origin.y}\n          r={innerRadius}\n          style={circleStyle}\n        />\n      </g>\n    );\n  }\n}\n\nclass CenterLabel extends Component {\n  render() {\n    const { datum, active, color } = this.props;\n    const text = [`${directions[datum._x]}`, `${Math.round(datum._y1)} mph`];\n    const baseStyle = { fill: color.highlight, textAnchor: \"middle\" };\n    const style = [\n      { ...baseStyle, fontSize: 18, fontWeight: \"bold\" },\n      { ...baseStyle, fontSize: 12 }\n    ];\n\n    return active ? (\n      <VictoryLabel text={text} style={style} x={175} y={175} renderInPortal />\n    ) : null;\n  }\n}\n\nclass StackedPolarBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { wind: this.getWindData() };\n  }\n\n  componentDidMount() {\n    this.setStateInterval = window.setInterval(() => {\n      this.setState({ wind: this.getWindData() });\n    }, 4000);\n  }\n\n  componentWillUnmount() {\n    if (this.setStateInterval) window.clearInterval(this.setStateInterval);\n  }\n\n  getWindData() {\n    return _.keys(directions).map(d => {\n      const speed = Math.floor(_.random() * 17) + 4;\n      return {\n        windSpeed: speed,\n        windGust: speed + _.random(2, 10),\n        windBearing: +d\n      };\n    });\n  }\n\n  render() {\n    return (\n      <VictoryChart\n        style={{ parent: { maxWidth: \"320px\" } }}\n        polar\n        animate={{ duration: 500, onLoad: { duration: 500 } }}\n        theme={VictoryTheme.material}\n        innerRadius={innerRadius}\n        domainPadding={{ y: 10 }}\n        events={[\n          {\n            childName: \"all\",\n            target: \"data\",\n            eventHandlers: {\n              onMouseOver: () => {\n                return [\n                  { target: \"labels\", mutation: () => ({ active: true }) },\n                  { target: \"data\", mutation: () => ({ active: true }) }\n                ];\n              },\n              onMouseOut: () => {\n                return [\n                  { target: \"labels\", mutation: () => ({ active: false }) },\n                  { target: \"data\", mutation: () => ({ active: false }) }\n                ];\n              }\n            }\n          }\n        ]}\n      >\n        <VictoryPolarAxis\n          dependentAxis\n          labelPlacement=\"vertical\"\n          style={{ axis: { stroke: \"none\" } }}\n          tickFormat={() => \"\"}\n        />\n        <VictoryPolarAxis\n          labelPlacement=\"parallel\"\n          tickValues={_.keys(directions).map(k => +k)}\n          tickFormat={_.values(directions)}\n        />\n        <VictoryStack>\n          <VictoryBar\n            style={{\n              data: {\n                fill: ({ active }) => (active ? orange.highlight : orange.base),\n                width: 40\n              }\n            }}\n            data={this.state.wind}\n            x=\"windBearing\"\n            y=\"windSpeed\"\n            labels={() => \"\"}\n            labelComponent={<CenterLabel color={orange} />}\n          />\n          <VictoryBar\n            style={{\n              data: {\n                fill: (d, a) => (a ? red.highlight : red.base),\n                width: 40\n              }\n            }}\n            data={this.state.wind}\n            x=\"windBearing\"\n            y={d => d.windGust - d.windSpeed}\n            labels={() => \"\"}\n            labelComponent={<CenterLabel color={red} />}\n          />\n        </VictoryStack>\n        <CompassCenter />\n      </VictoryChart>\n    );\n  }\n}\n\nexport default StackedPolarBar;\n"]},"metadata":{},"sourceType":"module"}