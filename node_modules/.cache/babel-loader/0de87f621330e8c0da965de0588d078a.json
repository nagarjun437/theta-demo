{"ast":null,"code":"import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{Button,Form,FormGroup,FormControl,FormLabel}from\"react-bootstrap\";import{Formik,FieldArray}from\"formik\";import DatePicker from\"react-datepicker\";import*as yup from\"yup\";import{getInvoiceById,addInvoice,updateInvoice}from\"./InvoiceService\";import{withRouter}from\"react-router-dom\";var InvoiceEditor=/*#__PURE__*/function(_Component){_inherits(InvoiceEditor,_Component);var _super=_createSuper(InvoiceEditor);function InvoiceEditor(){var _this;_classCallCheck(this,InvoiceEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:\"\",orderNo:\"\",buyer:{name:\"\",address:\"\"},seller:{name:\"\",address:\"\"},item:[],status:\"\",vat:\"\",date:new Date(),currency:\"$\",loading:false};_this.subTotalCost=0;_this.generateRandomId=function(){var tempId=Math.random().toString();var id=tempId.substr(2,tempId.length-1);_this.setState({id:id});};_this.handleSubmit=function(values,_ref){var setSubmitting=_ref.setSubmitting;var id=_this.state.id;_this.setState({loading:true});setSubmitting(true);console.log(values);if(_this.props.isNewInvoice)addInvoice(_objectSpread({id:id},values)).then(function(){_this.setState({loading:false});_this.props.history.push(\"/invoice/\".concat(id));_this.props.toggleInvoiceEditor();});else updateInvoice(values).then(function(){_this.setState({loading:false});_this.props.toggleInvoiceEditor();});};_this.calculateSubTotal=function(values){_this.subTotalCost=values.item.reduce(function(total,item){return total+item.price*item.unit;},0);};return _this;}_createClass(InvoiceEditor,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!this.props.isNewInvoice)getInvoiceById(this.props.match.params.id).then(function(res){_this2.setState(_objectSpread({},res.data));});else{this.generateRandomId();}}},{key:\"render\",value:function render(){var _this3=this;this.subTotalCost=0;var loading=this.state.loading;return/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-viewer py-3\"},/*#__PURE__*/React.createElement(Formik,{initialValues:this.state,validationSchema:invoiceSchema,onSubmit:this.handleSubmit,enableReinitialize:true},function(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,handleSubmit=_ref2.handleSubmit,isSubmitting=_ref2.isSubmitting,setSubmitting=_ref2.setSubmitting,setFieldValue=_ref2.setFieldValue;_this3.calculateSubTotal(values);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit,className:\"px-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"viewer_actions d-flex justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-4\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"mr-3 py-2\",variant:\"warning\",onClick:function onClick(){return _this3.props.toggleInvoiceEditor();}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:\"py-2\",variant:\"primary\",disabled:loading},\"Save\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"font-weight-bold\"},\"Order Info\"),/*#__PURE__*/React.createElement(FormGroup,{className:\"col-sm-4 mb-3 pl-0\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Order Number\"),/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"form-control\",name:\"orderNo\",placeholder:\"Enter order number\",onChange:handleChange,onBlur:handleBlur,isInvalid:errors.orderNo&&touched.orderNo,value:values.orderNo}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 text-right\"},/*#__PURE__*/React.createElement(\"label\",{className:\"d-block text-12 text-muted\"},\"Order Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pr-0 mb-4\"},/*#__PURE__*/React.createElement(\"fieldset\",{className:\"offset-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"radio radio-danger\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"status\",checked:values.status===\"pending\",onChange:handleChange,value:\"pending\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Pending\"),/*#__PURE__*/React.createElement(\"span\",{className:\"checkmark\"})),/*#__PURE__*/React.createElement(\"label\",{className:\"radio check-reverse radio-warning\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"status\",checked:values.status===\"processing\",onChange:handleChange,value:\"processing\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Processing\"),/*#__PURE__*/React.createElement(\"span\",{className:\"checkmark\"})),/*#__PURE__*/React.createElement(\"label\",{className:\"radio radio-success\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"status\",checked:values.status===\"delivered\",onChange:handleChange,value:\"delivered\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Delivered\"),/*#__PURE__*/React.createElement(\"span\",{className:\"checkmark\"}))),errors.status&&touched.status&&/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},\"Minimum 1 item is required\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-1\"},\"Order Date\"),/*#__PURE__*/React.createElement(DatePicker,{className:\"form-control text-right\",dateFormat:\"dd/MM/yyyy\",selected:new Date(values.date),onChange:function onChange(date){setFieldValue(\"date\",date);}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 mb-4 border-top\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"font-weight-bold\"},\"Bill From\"),/*#__PURE__*/React.createElement(FormGroup,{className:\"col-md-10 mb-3 pl-0\"},/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"form-control\",name:\"seller.name\",placeholder:\"Bill From\",value:values.seller.name,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.seller&&errors.seller.name&&touched.seller&&touched.seller.name})),/*#__PURE__*/React.createElement(FormGroup,{className:\"col-md-10 mb-3 pl-0\"},/*#__PURE__*/React.createElement(FormControl,{as:\"textarea\",placeholder:\"Bill From Address\",name:\"seller.address\",value:values.seller.address,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.seller&&touched.seller&&errors.seller.address&&touched.seller.address}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 text-right\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"font-weight-bold\"},\"Bill To\"),/*#__PURE__*/React.createElement(FormGroup,{className:\"col-md-10 offset-md-2 mb-3 pr-0\"},/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"text-right\",name:\"buyer.name\",placeholder:\"Bill From\",value:values.buyer.name,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.buyer&&touched.buyer&&errors.buyer.name&&touched.buyer.name})),/*#__PURE__*/React.createElement(FormGroup,{className:\"col-md-10 offset-md-2 mb-3 pr-0\"},/*#__PURE__*/React.createElement(FormControl,{as:\"textarea\",className:\"text-right\",placeholder:\"Bill From Address\",name:\"buyer.address\",value:values.buyer.address,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.buyer&&touched.buyer&&errors.buyer.address&&touched.buyer.address})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(FieldArray,{name:\"item\"},function(arrayHelpers){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover mb-3\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"bg-gray-300\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"#\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Item Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Unit Price\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Unit\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Cost\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,values.item.map(function(item,ind){return/*#__PURE__*/React.createElement(\"tr\",{key:ind},/*#__PURE__*/React.createElement(\"th\",{className:\"text-middle\",scope:\"row\"},ind+1),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(FormControl,{value:values.item[ind].name,name:\"item[\".concat(ind,\"].name\"),type:\"text\",placeholder:\"Item Name\",onChange:handleChange,onBlur:handleBlur,isInvalid:errors.item&&touched.item&&errors.item[ind]&&touched.item[ind]&&errors.item[ind].name&&touched.item[ind].name})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(FormControl,{value:values.item[ind].price,name:\"item[\".concat(ind,\"].price\"),type:\"number\",placeholder:\"Unit Price\",onChange:handleChange,onBlur:handleBlur,isInvalid:errors.item&&touched.item&&errors.item[ind]&&touched.item[ind]&&errors.item[ind].price&&touched.item[ind].price})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(FormControl,{value:values.item[ind].unit,name:\"item[\".concat(ind,\"].unit\"),type:\"number\",placeholder:\"Unit\",onChange:handleChange,onBlur:handleBlur,isInvalid:errors.item&&touched.item&&errors.item[ind]&&touched.item[ind]&&errors.item[ind].unit&&touched.item[ind].unit})),/*#__PURE__*/React.createElement(\"td\",{className:\"text-middle\"},values.item[ind].price*values.item[ind].unit),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return arrayHelpers.remove(ind);},className:\"btn btn-outline-secondary float-right\"},\"Delete\")));}))),values.item.length===0&&/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},\"Minimum 1 item is required\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return arrayHelpers.push({name:\"\",price:\"\",unit:\"\"});},className:\"btn btn-primary float-right mb-4\"},\"Add Item\"));}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-summary invoice-summary-input float-right\"},/*#__PURE__*/React.createElement(\"p\",null,\"Sub total:\",/*#__PURE__*/React.createElement(\"span\",null,values.currency,_this3.subTotalCost)),/*#__PURE__*/React.createElement(\"p\",{className:\"d-flex align-items-center\"},\"Vat(%):\",/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"small-input\",name:\"vat\",value:values.vat,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.vat&&touched.vat}),values.currency,_this3.subTotalCost*values.vat/100)),/*#__PURE__*/React.createElement(\"h5\",{className:\"font-weight-bold d-flex align-items-center\"},\"Grand Total:\",/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormControl,{type:\"text\",className:\"small-input\",name:\"currency\",value:values.currency,onChange:handleChange,onBlur:handleBlur,isInvalid:errors.currency&&touched.currency}),values.currency,_this3.subTotalCost+_this3.subTotalCost*values.vat/100)))))));}));}}]);return InvoiceEditor;}(Component);var invoiceSchema=yup.object().shape({orderNo:yup.string().required(\"orderNo is required\"),status:yup.string().required(\"status is required\"),seller:yup.object().shape({name:yup.string().required(\"name is required\"),address:yup.string().required(\"address is required\")}),buyer:yup.object().shape({name:yup.string().required(\"name is required\"),address:yup.string().required(\"address is required\")}),item:yup.array().of(yup.object().shape({name:yup.string().required(\"name is required\"),price:yup.number().required(\"price is required\"),unit:yup.number().required(\"unit is required\")})).min(1,\"Minimum 1 item is required\"),vat:yup.number().required(\"unit is required\"),currency:yup.string().required(\"name is required\")});export default withRouter(InvoiceEditor);","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/views/app/invoice/InvoiceEditor.jsx"],"names":["React","Component","Fragment","Button","Form","FormGroup","FormControl","FormLabel","Formik","FieldArray","DatePicker","yup","getInvoiceById","addInvoice","updateInvoice","withRouter","InvoiceEditor","state","id","orderNo","buyer","name","address","seller","item","status","vat","date","Date","currency","loading","subTotalCost","generateRandomId","tempId","Math","random","toString","substr","length","setState","handleSubmit","values","setSubmitting","console","log","props","isNewInvoice","then","history","push","toggleInvoiceEditor","calculateSubTotal","reduce","total","price","unit","match","params","res","data","invoiceSchema","errors","touched","handleChange","handleBlur","isSubmitting","setFieldValue","arrayHelpers","map","ind","remove","object","shape","string","required","array","of","number","min"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  FormControl,\n  FormLabel\n} from \"react-bootstrap\";\nimport { Formik, FieldArray } from \"formik\";\nimport DatePicker from \"react-datepicker\";\nimport * as yup from \"yup\";\n\nimport { getInvoiceById, addInvoice, updateInvoice } from \"./InvoiceService\";\nimport { withRouter } from \"react-router-dom\";\n\nclass InvoiceEditor extends Component {\n  state = {\n    id: \"\",\n    orderNo: \"\",\n    buyer: {\n      name: \"\",\n      address: \"\"\n    },\n    seller: {\n      name: \"\",\n      address: \"\"\n    },\n    item: [],\n    status: \"\",\n    vat: \"\",\n    date: new Date(),\n    currency: \"$\",\n    loading: false\n  };\n\n  subTotalCost = 0;\n\n  componentDidMount() {\n    if (!this.props.isNewInvoice)\n      getInvoiceById(this.props.match.params.id).then(res => {\n        this.setState({ ...res.data });\n      });\n    else {\n      this.generateRandomId();\n    }\n  }\n\n  generateRandomId = () => {\n    let tempId = Math.random().toString();\n    let id = tempId.substr(2, tempId.length - 1);\n    this.setState({ id });\n  };\n\n  handleSubmit = (values, { setSubmitting }) => {\n    let { id } = this.state;\n    this.setState({ loading: true });\n    setSubmitting(true);\n\n    console.log(values);\n\n    if (this.props.isNewInvoice)\n      addInvoice({ id, ...values }).then(() => {\n        this.setState({ loading: false });\n        this.props.history.push(`/invoice/${id}`);\n        this.props.toggleInvoiceEditor();\n      });\n    else\n      updateInvoice(values).then(() => {\n        this.setState({ loading: false });\n        this.props.toggleInvoiceEditor();\n      });\n  };\n\n  calculateSubTotal = values => {\n    this.subTotalCost = values.item.reduce(\n      (total, item) => total + item.price * item.unit,\n      0\n    );\n  };\n\n  render() {\n    this.subTotalCost = 0;\n    let { loading } = this.state;\n\n    return (\n      <div className=\"invoice-viewer py-3\">\n        <Formik\n          initialValues={this.state}\n          validationSchema={invoiceSchema}\n          onSubmit={this.handleSubmit}\n          enableReinitialize={true}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isSubmitting,\n            setSubmitting,\n            setFieldValue\n          }) => {\n            this.calculateSubTotal(values);\n            return (\n              <Fragment>\n                <Form onSubmit={handleSubmit} className=\"px-3\">\n                  <div className=\"viewer_actions d-flex justify-content-end\">\n                    <div className=\"mb-4\">\n                      <Button\n                        type=\"button\"\n                        className=\"mr-3 py-2\"\n                        variant=\"warning\"\n                        onClick={() => this.props.toggleInvoiceEditor()}\n                      >\n                        Cancel\n                      </Button>\n                      <Button\n                        type=\"submit\"\n                        className=\"py-2\"\n                        variant=\"primary\"\n                        disabled={loading}\n                      >\n                        Save\n                      </Button>\n                    </div>\n                  </div>\n\n                  <div className=\"row justify-content-between\">\n                    <div className=\"col-md-6\">\n                      <h4 className=\"font-weight-bold\">Order Info</h4>\n                      <FormGroup className=\"col-sm-4 mb-3 pl-0\">\n                        <FormLabel>Order Number</FormLabel>\n                        <FormControl\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"orderNo\"\n                          placeholder=\"Enter order number\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          isInvalid={errors.orderNo && touched.orderNo}\n                          value={values.orderNo}\n                        />\n                      </FormGroup>\n                    </div>\n                    <div className=\"col-md-3 text-right\">\n                      <label className=\"d-block text-12 text-muted\">\n                        Order Status\n                      </label>\n                      <div className=\"pr-0 mb-4\">\n                        <fieldset className=\"offset-md-6\">\n                          <label className=\"radio radio-danger\">\n                            <input\n                              type=\"radio\"\n                              name=\"status\"\n                              checked={values.status === \"pending\"}\n                              onChange={handleChange}\n                              value=\"pending\"\n                            />\n                            <span>Pending</span>\n                            <span className=\"checkmark\"></span>\n                          </label>\n                          <label className=\"radio check-reverse radio-warning\">\n                            <input\n                              type=\"radio\"\n                              name=\"status\"\n                              checked={values.status === \"processing\"}\n                              onChange={handleChange}\n                              value=\"processing\"\n                            />\n                            <span>Processing</span>\n                            <span className=\"checkmark\"></span>\n                          </label>\n                          <label className=\"radio radio-success\">\n                            <input\n                              type=\"radio\"\n                              name=\"status\"\n                              checked={values.status === \"delivered\"}\n                              onChange={handleChange}\n                              value=\"delivered\"\n                            />\n                            <span>Delivered</span>\n                            <span className=\"checkmark\"></span>\n                          </label>\n                        </fieldset>\n                        {errors.status && touched.status && (\n                          <small className=\"text-danger\">\n                            Minimum 1 item is required\n                          </small>\n                        )}\n                      </div>\n                      <div className=\"form-group mb-3\">\n                        <div className=\"mb-1\">Order Date</div>\n                        <DatePicker\n                          className=\"form-control text-right\"\n                          dateFormat=\"dd/MM/yyyy\"\n                          selected={new Date(values.date)}\n                          onChange={date => {\n                            setFieldValue(\"date\", date);\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-3 mb-4 border-top\"></div>\n                  <div className=\"row mb-5\">\n                    <div className=\"col-md-6\">\n                      <h5 className=\"font-weight-bold\">Bill From</h5>\n                      <FormGroup className=\"col-md-10 mb-3 pl-0\">\n                        <FormControl\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"seller.name\"\n                          placeholder=\"Bill From\"\n                          value={values.seller.name}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          isInvalid={\n                            errors.seller &&\n                            errors.seller.name &&\n                            touched.seller &&\n                            touched.seller.name\n                          }\n                        />\n                      </FormGroup>\n\n                      <FormGroup className=\"col-md-10 mb-3 pl-0\">\n                        <FormControl\n                          as=\"textarea\"\n                          placeholder=\"Bill From Address\"\n                          name=\"seller.address\"\n                          value={values.seller.address}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          isInvalid={\n                            errors.seller &&\n                            touched.seller &&\n                            errors.seller.address &&\n                            touched.seller.address\n                          }\n                        ></FormControl>\n                      </FormGroup>\n                    </div>\n\n                    <div className=\"col-md-6 text-right\">\n                      <h5 className=\"font-weight-bold\">Bill To</h5>\n                      <FormGroup className=\"col-md-10 offset-md-2 mb-3 pr-0\">\n                        <FormControl\n                          type=\"text\"\n                          className=\"text-right\"\n                          name=\"buyer.name\"\n                          placeholder=\"Bill From\"\n                          value={values.buyer.name}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          isInvalid={\n                            errors.buyer &&\n                            touched.buyer &&\n                            errors.buyer.name &&\n                            touched.buyer.name\n                          }\n                        />\n                      </FormGroup>\n                      <FormGroup className=\"col-md-10 offset-md-2 mb-3 pr-0\">\n                        <FormControl\n                          as=\"textarea\"\n                          className=\"text-right\"\n                          placeholder=\"Bill From Address\"\n                          name=\"buyer.address\"\n                          value={values.buyer.address}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          isInvalid={\n                            errors.buyer &&\n                            touched.buyer &&\n                            errors.buyer.address &&\n                            touched.buyer.address\n                          }\n                        ></FormControl>\n                      </FormGroup>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <FieldArray name=\"item\">\n                      {arrayHelpers => (\n                        <div className=\"col-md-12 table-responsive\">\n                          <table className=\"table table-hover mb-3\">\n                            <thead className=\"bg-gray-300\">\n                              <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Item Name</th>\n                                <th scope=\"col\">Unit Price</th>\n                                <th scope=\"col\">Unit</th>\n                                <th scope=\"col\">Cost</th>\n                                <th scope=\"col\"></th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {values.item.map((item, ind) => (\n                                <tr key={ind}>\n                                  <th className=\"text-middle\" scope=\"row\">\n                                    {ind + 1}\n                                  </th>\n                                  <td>\n                                    <FormControl\n                                      value={values.item[ind].name}\n                                      name={`item[${ind}].name`}\n                                      type=\"text\"\n                                      placeholder=\"Item Name\"\n                                      onChange={handleChange}\n                                      onBlur={handleBlur}\n                                      isInvalid={\n                                        errors.item &&\n                                        touched.item &&\n                                        errors.item[ind] &&\n                                        touched.item[ind] &&\n                                        errors.item[ind].name &&\n                                        touched.item[ind].name\n                                      }\n                                    />\n                                  </td>\n                                  <td>\n                                    <FormControl\n                                      value={values.item[ind].price}\n                                      name={`item[${ind}].price`}\n                                      type=\"number\"\n                                      placeholder=\"Unit Price\"\n                                      onChange={handleChange}\n                                      onBlur={handleBlur}\n                                      isInvalid={\n                                        errors.item &&\n                                        touched.item &&\n                                        errors.item[ind] &&\n                                        touched.item[ind] &&\n                                        errors.item[ind].price &&\n                                        touched.item[ind].price\n                                      }\n                                    />\n                                  </td>\n                                  <td>\n                                    <FormControl\n                                      value={values.item[ind].unit}\n                                      name={`item[${ind}].unit`}\n                                      type=\"number\"\n                                      placeholder=\"Unit\"\n                                      onChange={handleChange}\n                                      onBlur={handleBlur}\n                                      isInvalid={\n                                        errors.item &&\n                                        touched.item &&\n                                        errors.item[ind] &&\n                                        touched.item[ind] &&\n                                        errors.item[ind].unit &&\n                                        touched.item[ind].unit\n                                      }\n                                    />\n                                  </td>\n                                  <td className=\"text-middle\">\n                                    {values.item[ind].price *\n                                      values.item[ind].unit}\n                                  </td>\n                                  <td>\n                                    <button\n                                      type=\"button\"\n                                      onClick={() => arrayHelpers.remove(ind)}\n                                      className=\"btn btn-outline-secondary float-right\"\n                                    >\n                                      Delete\n                                    </button>\n                                  </td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                          {values.item.length === 0 && (\n                            <small className=\"text-danger\">\n                              Minimum 1 item is required\n                            </small>\n                          )}\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              arrayHelpers.push({\n                                name: \"\",\n                                price: \"\",\n                                unit: \"\"\n                              })\n                            }\n                            className=\"btn btn-primary float-right mb-4\"\n                          >\n                            Add Item\n                          </button>\n                        </div>\n                      )}\n                    </FieldArray>\n\n                    <div className=\"col-md-12\">\n                      <div className=\"invoice-summary invoice-summary-input float-right\">\n                        <p>\n                          Sub total:\n                          <span>\n                            {values.currency}\n                            {this.subTotalCost}\n                          </span>\n                        </p>\n                        <p className=\"d-flex align-items-center\">\n                          Vat(%):\n                          <span>\n                            <FormControl\n                              type=\"text\"\n                              className=\"small-input\"\n                              name=\"vat\"\n                              value={values.vat}\n                              onChange={handleChange}\n                              onBlur={handleBlur}\n                              isInvalid={errors.vat && touched.vat}\n                            />\n                            {values.currency}\n                            {(this.subTotalCost * values.vat) / 100}\n                          </span>\n                        </p>\n                        <h5 className=\"font-weight-bold d-flex align-items-center\">\n                          Grand Total:\n                          <span>\n                            <FormControl\n                              type=\"text\"\n                              className=\"small-input\"\n                              name=\"currency\"\n                              value={values.currency}\n                              onChange={handleChange}\n                              onBlur={handleBlur}\n                              isInvalid={errors.currency && touched.currency}\n                            />\n                            {values.currency}\n                            {this.subTotalCost +\n                              (this.subTotalCost * values.vat) / 100}\n                          </span>\n                        </h5>\n                      </div>\n                    </div>\n                  </div>\n                </Form>\n              </Fragment>\n            );\n          }}\n        </Formik>\n      </div>\n    );\n  }\n}\n\nconst invoiceSchema = yup.object().shape({\n  orderNo: yup.string().required(\"orderNo is required\"),\n  status: yup.string().required(\"status is required\"),\n  seller: yup.object().shape({\n    name: yup.string().required(\"name is required\"),\n    address: yup.string().required(\"address is required\")\n  }),\n  buyer: yup.object().shape({\n    name: yup.string().required(\"name is required\"),\n    address: yup.string().required(\"address is required\")\n  }),\n  item: yup\n    .array()\n    .of(\n      yup.object().shape({\n        name: yup.string().required(\"name is required\"),\n        price: yup.number().required(\"price is required\"),\n        unit: yup.number().required(\"unit is required\")\n      })\n    )\n    .min(1, \"Minimum 1 item is required\"),\n  vat: yup.number().required(\"unit is required\"),\n  currency: yup.string().required(\"name is required\")\n});\n\nexport default withRouter(InvoiceEditor);\n"]},"metadata":{},"sourceType":"module"}