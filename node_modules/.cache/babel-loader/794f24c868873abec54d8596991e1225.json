{"ast":null,"code":"import _slicedToArray from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Scrollbar from\"react-perfect-scrollbar\";import{Button}from\"react-bootstrap\";import{getTimeDifference}from\"@utils\";import EmptyMessage from\"./EmptyMessage\";var ChatContainer=function ChatContainer(_ref){var _ref$currentUser=_ref.currentUser,currentUser=_ref$currentUser===void 0?{}:_ref$currentUser,toggleSidenav=_ref.toggleSidenav,currentChatRoom=_ref.currentChatRoom,_ref$opponentUser=_ref.opponentUser,opponentUser=_ref$opponentUser===void 0?{}:_ref$opponentUser,_ref$messageList=_ref.messageList,messageList=_ref$messageList===void 0?[]:_ref$messageList,setBottomRef=_ref.setBottomRef,handleMessageSend=_ref.handleMessageSend,isMobile=_ref.isMobile;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),message=_React$useState2[0],setMessage=_React$useState2[1];var sendMessageOnEnter=function sendMessageOnEnter(event){if(event.key===\"Enter\"&&!event.shiftKey){message=message.trim();if(message!==\"\")handleMessageSend(message);setMessage(\"\");}};return/*#__PURE__*/React.createElement(\"div\",{className:\"chat-content-wrap sidebar-content\",style:{marginLeft:isMobile?0:\"260px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex pl-3 pr-3 pt-2 pb-2 o-hidden box-shadow-1 chat-topbar\"},/*#__PURE__*/React.createElement(\"span\",{className:\"link-icon d-md-none\",onClick:toggleSidenav},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-regular i-Right ml-0 mr-3\"})),opponentUser&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"img\",{src:opponentUser.avatar,alt:\"\",className:\"avatar-sm rounded-circle mr-2\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0 text-title text-16 flex-grow-1\"},opponentUser.name))),opponentUser?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Scrollbar,{className:\"chat-content\",containerRef:function containerRef(ref){setBottomRef(ref);}},messageList.map(function(item,ind){return item.contactId===opponentUser.id?/*#__PURE__*/React.createElement(\"div\",{key:ind,className:\"d-flex mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"message flex-grow-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 text-title text-16 flex-grow-1\"},item.name),/*#__PURE__*/React.createElement(\"span\",{className:\"text-small text-muted\"},getTimeDifference(new Date(item.time)),\" ago\")),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0 white-space-pre-line\"},item.text)),/*#__PURE__*/React.createElement(\"img\",{src:item.avatar,alt:\"\",className:\"avatar-sm rounded-circle ml-3\"})):/*#__PURE__*/React.createElement(\"div\",{key:ind,className:\"d-flex mb-4 user\"},/*#__PURE__*/React.createElement(\"img\",{src:item.avatar,alt:\"\",className:\"avatar-sm rounded-circle ml-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"message flex-grow-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 text-title text-16 flex-grow-1\"},item.name),/*#__PURE__*/React.createElement(\"span\",{className:\"text-small text-muted\"},getTimeDifference(new Date(item.time)),\" ago\")),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0 white-space-pre-line\"},item.text)));})),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-3 pr-3 pt-3 pb-3 box-shadow-1 chat-input-area\"},/*#__PURE__*/React.createElement(\"form\",{className:\"inputForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control form-control-rounded\",placeholder:\"Type your message\",name:\"message\",id:\"message\",cols:\"30\",rows:\"3\",onChange:function onChange(e){return setMessage(e.target.value);},onKeyUp:sendMessageOnEnter,value:message})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-grow-1\"}),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon btn-rounded mr-2\",variant:\"primary\",onClick:function onClick(){if(message.trim()!==\"\")handleMessageSend(message);setMessage(\"\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Paper-Plane\"})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"attachment\",className:\"mb-0\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"mr-2\",as:\"span\",variant:\"outline-primary\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Add-File\"}))),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){console.log(event.target.files[0]);},className:\"d-none\",id:\"attachment\",type:\"file\"}))))):/*#__PURE__*/React.createElement(EmptyMessage,null));};export default ChatContainer;","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/theta-demo/src/app/views/app/chat/ChatContainer.jsx"],"names":["React","Scrollbar","Button","getTimeDifference","EmptyMessage","ChatContainer","currentUser","toggleSidenav","currentChatRoom","opponentUser","messageList","setBottomRef","handleMessageSend","isMobile","useState","message","setMessage","sendMessageOnEnter","event","key","shiftKey","trim","marginLeft","avatar","name","ref","map","item","ind","contactId","id","Date","time","text","e","target","value","console","log","files"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Scrollbar from \"react-perfect-scrollbar\";\nimport { Button } from \"react-bootstrap\";\nimport { getTimeDifference } from \"@utils\";\nimport EmptyMessage from \"./EmptyMessage\";\n\nconst ChatContainer = ({\n  currentUser = {},\n  toggleSidenav,\n  currentChatRoom,\n  opponentUser = {},\n  messageList = [],\n  setBottomRef,\n  handleMessageSend,\n  isMobile\n}) => {\n  let [message, setMessage] = React.useState(\"\");\n  const sendMessageOnEnter = event => {\n    if (event.key === \"Enter\" && !event.shiftKey) {\n      message = message.trim();\n      if (message !== \"\") handleMessageSend(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div\n      className=\"chat-content-wrap sidebar-content\"\n      style={{ marginLeft: isMobile ? 0 : \"260px\" }}\n    >\n      <div className=\"d-flex pl-3 pr-3 pt-2 pb-2 o-hidden box-shadow-1 chat-topbar\">\n        <span className=\"link-icon d-md-none\" onClick={toggleSidenav}>\n          <i className=\"icon-regular i-Right ml-0 mr-3\"></i>\n        </span>\n        {opponentUser && (\n          <div className=\"d-flex align-items-center\">\n            <img\n              src={opponentUser.avatar}\n              alt=\"\"\n              className=\"avatar-sm rounded-circle mr-2\"\n            />\n            <p className=\"m-0 text-title text-16 flex-grow-1\">\n              {opponentUser.name}\n            </p>\n          </div>\n        )}\n      </div>\n\n      {opponentUser ? (\n        <>\n          <Scrollbar\n            className=\"chat-content\"\n            containerRef={ref => {\n              setBottomRef(ref);\n            }}\n          >\n            {messageList.map((item, ind) =>\n              item.contactId === opponentUser.id ? (\n                <div key={ind} className=\"d-flex mb-4\">\n                  <div className=\"message flex-grow-1\">\n                    <div className=\"d-flex\">\n                      <p className=\"mb-1 text-title text-16 flex-grow-1\">\n                        {item.name}\n                      </p>\n                      <span className=\"text-small text-muted\">\n                        {getTimeDifference(new Date(item.time))} ago\n                      </span>\n                    </div>\n                    <p className=\"m-0 white-space-pre-line\">{item.text}</p>\n                  </div>\n                  <img\n                    src={item.avatar}\n                    alt=\"\"\n                    className=\"avatar-sm rounded-circle ml-3\"\n                  />\n                </div>\n              ) : (\n                <div key={ind} className=\"d-flex mb-4 user\">\n                  <img\n                    src={item.avatar}\n                    alt=\"\"\n                    className=\"avatar-sm rounded-circle ml-3\"\n                  />\n                  <div className=\"message flex-grow-1\">\n                    <div className=\"d-flex\">\n                      <p className=\"mb-1 text-title text-16 flex-grow-1\">\n                        {item.name}\n                      </p>\n                      <span className=\"text-small text-muted\">\n                        {getTimeDifference(new Date(item.time))} ago\n                      </span>\n                    </div>\n                    <p className=\"m-0 white-space-pre-line\">{item.text}</p>\n                  </div>\n                </div>\n              )\n            )}\n          </Scrollbar>\n          <div className=\"pl-3 pr-3 pt-3 pb-3 box-shadow-1 chat-input-area\">\n            <form className=\"inputForm\">\n              <div className=\"form-group\">\n                <textarea\n                  className=\"form-control form-control-rounded\"\n                  placeholder=\"Type your message\"\n                  name=\"message\"\n                  id=\"message\"\n                  cols=\"30\"\n                  rows=\"3\"\n                  onChange={e => setMessage(e.target.value)}\n                  onKeyUp={sendMessageOnEnter}\n                  value={message}\n                ></textarea>\n              </div>\n              <div className=\"d-flex\">\n                <div className=\"flex-grow-1\"></div>\n                <Button\n                  className=\"btn btn-icon btn-rounded mr-2\"\n                  variant=\"primary\"\n                  onClick={() => {\n                    if (message.trim() !== \"\") handleMessageSend(message);\n                    setMessage(\"\");\n                  }}\n                >\n                  <i className=\"i-Paper-Plane\"></i>\n                </Button>\n\n                <label htmlFor=\"attachment\" className=\"mb-0\">\n                  <Button\n                    type=\"button\"\n                    className=\"mr-2\"\n                    as=\"span\"\n                    variant=\"outline-primary\"\n                  >\n                    <i className=\"i-Add-File\"></i>\n                  </Button>\n                </label>\n                <input\n                  onChange={event => {\n                    console.log(event.target.files[0]);\n                  }}\n                  className=\"d-none\"\n                  id=\"attachment\"\n                  type=\"file\"\n                />\n              </div>\n            </form>\n          </div>\n        </>\n      ) : (\n        <EmptyMessage></EmptyMessage>\n      )}\n    </div>\n  );\n};\n\nexport default ChatContainer;\n"]},"metadata":{},"sourceType":"module"}