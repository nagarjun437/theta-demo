{"ast":null,"code":"import _objectSpread from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import Mock from\"../mock\";import shortId from\"shortid\";import*as _ from\"lodash\";var ChatDB={user:[{id:\"7863a6802ez0e277a0f98534\",name:\"John Doe\",avatar:\"assets/images/faces/1.jpg\",status:\"online\",chatInfo:[{chatId:\"89564a680b3249760ea21fe77\",contactId:\"323sa680b3249760ea21rt47\",unread:4,lastChatTime:\"2017-06-12T02:10:18.931Z\"},{chatId:\"3289564a680b2134760ea21fe7753\",contactId:\"14663a3406eb47ffa63d4fec9429cb71\",unread:0,lastChatTime:\"2019-03-10T02:10:18.931Z\"}]}],contacts:[{id:\"323sa680b3249760ea21rt47\",name:\"Frank Powell\",avatar:\"assets/images/faces/13.jpg\",status:\"online\",mood:\"\"},{id:\"7863a6802ez0e277a0f98534\",name:\"John Doe\",avatar:\"assets/images/faces/1.jpg\",status:\"online\",mood:\"\"},{id:\"14663a3406eb47ffa63d4fec9429cb71\",name:\"Betty Diaz\",avatar:\"assets/images/faces/12.jpg\",status:\"online\",mood:\"\"},{id:\"43bd9bc59d164b5aea498e3ae1c24c3c\",name:\"Brian Stephens\",avatar:\"assets/images/faces/3.jpg\",status:\"online\",mood:\"\"},{id:\"3fc8e01f3ce649d1caf884fbf4f698e4\",name:\"Jacqueline Day\",avatar:\"assets/images/faces/16.jpg\",status:\"offline\",mood:\"\"},{id:\"e929b1d790ab49968ed8e34648553df4\",name:\"Arthur Mendoza\",avatar:\"assets/images/faces/10.jpg\",status:\"online\",mood:\"\"},{id:\"d6caf04bba614632b5fecf91aebf4564\",name:\"Jeremy Lee\",avatar:\"assets/images/faces/9.jpg\",status:\"offline\",mood:\"\"},{id:\"be0fb188c8e242f097fafa24632107e4\",name:\"Johnny Newman\",avatar:\"assets/images/faces/5.jpg\",status:\"offline\",mood:\"\"},{id:\"dea902191b964a68ba5f2d93cff37e13\",name:\"Jeffrey Little\",avatar:\"assets/images/faces/15.jpg\",status:\"online\",mood:\"\"},{id:\"0bf58f5ccc4543a9f8747350b7bda3c7\",name:\"Barbara Romero\",avatar:\"assets/images/faces/4.jpg\",status:\"offline\",mood:\"\"},{id:\"c5d7498bbcb84d81fc72168871ac6a6e\",name:\"Daniel James\",avatar:\"assets/images/faces/2.jpg\",status:\"offline\",mood:\"\"},{id:\"97bfbdd9413e46efdaca2010400fe18c\",name:\"Alice Sanders\",avatar:\"assets/images/faces/17.jpg\",status:\"offline\",mood:\"\"}],chatCollection:[{id:\"89564a680b3249760ea21fe77\",chats:[{contactId:\"323sa680b3249760ea21rt47\",text:\"Do you ever find yourself falling into the “discount trap?”\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Giving away your knowledge or product just to gain clients?\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"323sa680b3249760ea21rt47\",text:\"Yes\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Don’t feel bad. It happens to a lot of us\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"323sa680b3249760ea21rt47\",text:\"Do you ever find yourself falling into the “discount trap?”\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Giving away your knowledge or product just to gain clients?\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"323sa680b3249760ea21rt47\",text:\"Yes\",time:\"2018-02-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Don’t feel bad. It happens to a lot of us\",time:\"2018-02-10T08:45:28.291Z\"}]},{id:\"3289564a680b2134760ea21fe7753\",chats:[{contactId:\"14663a3406eb47ffa63d4fec9429cb71\",text:\"Do you ever find yourself falling into the “discount trap?”\",time:\"2019-03-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Giving away your knowledge or product just to gain clients?\",time:\"2019-03-10T08:45:28.291Z\"},{contactId:\"14663a3406eb47ffa63d4fec9429cb71\",text:\"Yes\",time:\"2019-03-10T08:45:28.291Z\"},{contactId:\"7863a6802ez0e277a0f98534\",text:\"Don’t feel bad. It happens to a lot of us\",time:\"2019-03-10T08:45:28.291Z\"}]}]};Mock.onGet(\"/api/chat\").reply(function(config){var id=config.data;var chats=ChatDB.chatCollection.find(function(collection){return collection.id===id;}).chats;var response=chats.map(function(chat){var temp=ChatDB.contacts.find(function(user){return user.id===chat.contactId;});return _objectSpread(_objectSpread({},chat),temp);});return[200,response];});Mock.onGet(\"/api/chat/chat-room\").reply(function(config){var _JSON$parse=JSON.parse(config.data),currentUser=_JSON$parse.currentUser,contactId=_JSON$parse.contactId;var chatUser=ChatDB.user.find(function(user){return user.id===currentUser;});var chatRoom=chatUser.chatInfo.find(function(chat){return chat.contactId===contactId;});if(chatRoom){var chats=ChatDB.chatCollection.find(function(collection){return collection.id===chatRoom.chatId;}).chats;var messageList=chats.map(function(chat){var temp=ChatDB.contacts.find(function(user){return user.id===chat.contactId;});return _objectSpread(_objectSpread({},chat),temp);});var response={chatId:chatRoom.chatId,messageList:messageList,recentListUpdated:false};return[200,response];}else{var chatId=shortId.generate();ChatDB.user.map(function(user){if(currentUser===user.id){user.chatInfo.push({chatId:chatId,contactId:contactId,lastChatTime:Date.now(),unread:0});}});ChatDB.chatCollection.push({id:chatId,chats:[]});var _response={chatId:chatId,messageList:[],recentListUpdated:true};return[200,_response];}});Mock.onGet(\"/api/chat/contacts/recent\").reply(function(config){var temp={contact:\"\"};var id=config.data;var contacts=ChatDB.user.find(function(user){return user.id===id;}).chatInfo;var response=contacts.map(function(contact){temp.contact=ChatDB.contacts.find(function(user){return user.id===contact.contactId;});return _objectSpread(_objectSpread({},temp.contact),contact);});return[200,response];});Mock.onGet(\"/api/chat/contacts/all\").reply(function(config){var id=config.data;var response=ChatDB.contacts.filter(function(contact){return contact.id!==id;});return[200,response];});Mock.onGet(\"/api/chat/contacts\").reply(function(config){var id=config.data;var response=ChatDB.contacts.find(function(contact){return contact.id===id;});return[200,response];});Mock.onPost(\"/api/chat/add\").reply(function(config){var chatDetails=JSON.parse(config.data);var chatId=chatDetails.chatId;ChatDB.chatCollection.map(function(chatRoom){if(chatId===chatRoom.id){delete chatDetails.chatId;chatRoom.chats.push(_objectSpread({},chatDetails));}});var chats=ChatDB.chatCollection.find(function(chatRoom){return chatRoom.id===chatId;}).chats;var response=chats.map(function(chat){var temp=ChatDB.contacts.find(function(user){return user.id===chat.contactId;});return _objectSpread(_objectSpread({},chat),temp);});return[200,response];});","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/fake-db/db/chat.js"],"names":["Mock","shortId","_","ChatDB","user","id","name","avatar","status","chatInfo","chatId","contactId","unread","lastChatTime","contacts","mood","chatCollection","chats","text","time","onGet","reply","config","data","find","collection","response","map","chat","temp","JSON","parse","currentUser","chatUser","chatRoom","messageList","recentListUpdated","generate","push","Date","now","contact","filter","onPost","chatDetails"],"mappings":"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","sourcesContent":["import Mock from \"../mock\";\nimport shortId from \"shortid\";\nimport * as _ from \"lodash\";\n\nconst ChatDB = {\n  user: [\n    {\n      id: \"7863a6802ez0e277a0f98534\",\n      name: \"John Doe\",\n      avatar: \"assets/images/faces/1.jpg\",\n      status: \"online\",\n      chatInfo: [\n        {\n          chatId: \"89564a680b3249760ea21fe77\",\n          contactId: \"323sa680b3249760ea21rt47\",\n          unread: 4,\n          lastChatTime: \"2017-06-12T02:10:18.931Z\"\n        },\n        {\n          chatId: \"3289564a680b2134760ea21fe7753\",\n          contactId: \"14663a3406eb47ffa63d4fec9429cb71\",\n          unread: 0,\n          lastChatTime: \"2019-03-10T02:10:18.931Z\"\n        }\n      ]\n    }\n  ],\n\n  contacts: [\n    {\n      id: \"323sa680b3249760ea21rt47\",\n      name: \"Frank Powell\",\n      avatar: \"assets/images/faces/13.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"7863a6802ez0e277a0f98534\",\n      name: \"John Doe\",\n      avatar: \"assets/images/faces/1.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"14663a3406eb47ffa63d4fec9429cb71\",\n      name: \"Betty Diaz\",\n      avatar: \"assets/images/faces/12.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"43bd9bc59d164b5aea498e3ae1c24c3c\",\n      name: \"Brian Stephens\",\n      avatar: \"assets/images/faces/3.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"3fc8e01f3ce649d1caf884fbf4f698e4\",\n      name: \"Jacqueline Day\",\n      avatar: \"assets/images/faces/16.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    },\n    {\n      id: \"e929b1d790ab49968ed8e34648553df4\",\n      name: \"Arthur Mendoza\",\n      avatar: \"assets/images/faces/10.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"d6caf04bba614632b5fecf91aebf4564\",\n      name: \"Jeremy Lee\",\n      avatar: \"assets/images/faces/9.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    },\n    {\n      id: \"be0fb188c8e242f097fafa24632107e4\",\n      name: \"Johnny Newman\",\n      avatar: \"assets/images/faces/5.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    },\n    {\n      id: \"dea902191b964a68ba5f2d93cff37e13\",\n      name: \"Jeffrey Little\",\n      avatar: \"assets/images/faces/15.jpg\",\n      status: \"online\",\n      mood: \"\"\n    },\n    {\n      id: \"0bf58f5ccc4543a9f8747350b7bda3c7\",\n      name: \"Barbara Romero\",\n      avatar: \"assets/images/faces/4.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    },\n    {\n      id: \"c5d7498bbcb84d81fc72168871ac6a6e\",\n      name: \"Daniel James\",\n      avatar: \"assets/images/faces/2.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    },\n    {\n      id: \"97bfbdd9413e46efdaca2010400fe18c\",\n      name: \"Alice Sanders\",\n      avatar: \"assets/images/faces/17.jpg\",\n      status: \"offline\",\n      mood: \"\"\n    }\n  ],\n\n  chatCollection: [\n    {\n      id: \"89564a680b3249760ea21fe77\",\n      chats: [\n        {\n          contactId: \"323sa680b3249760ea21rt47\",\n          text: \"Do you ever find yourself falling into the “discount trap?”\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Giving away your knowledge or product just to gain clients?\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"323sa680b3249760ea21rt47\",\n          text: \"Yes\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Don’t feel bad. It happens to a lot of us\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"323sa680b3249760ea21rt47\",\n          text: \"Do you ever find yourself falling into the “discount trap?”\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Giving away your knowledge or product just to gain clients?\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"323sa680b3249760ea21rt47\",\n          text: \"Yes\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Don’t feel bad. It happens to a lot of us\",\n          time: \"2018-02-10T08:45:28.291Z\"\n        }\n      ]\n    },\n    {\n      id: \"3289564a680b2134760ea21fe7753\",\n      chats: [\n        {\n          contactId: \"14663a3406eb47ffa63d4fec9429cb71\",\n          text: \"Do you ever find yourself falling into the “discount trap?”\",\n          time: \"2019-03-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Giving away your knowledge or product just to gain clients?\",\n          time: \"2019-03-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"14663a3406eb47ffa63d4fec9429cb71\",\n          text: \"Yes\",\n          time: \"2019-03-10T08:45:28.291Z\"\n        },\n        {\n          contactId: \"7863a6802ez0e277a0f98534\",\n          text: \"Don’t feel bad. It happens to a lot of us\",\n          time: \"2019-03-10T08:45:28.291Z\"\n        }\n      ]\n    }\n  ]\n};\n\nMock.onGet(\"/api/chat\").reply(config => {\n  const id = config.data;\n  const chats = ChatDB.chatCollection.find(collection => collection.id === id)\n    .chats;\n  const response = chats.map(chat => {\n    let temp = ChatDB.contacts.find(user => user.id === chat.contactId);\n    return { ...chat, ...temp };\n  });\n  return [200, response];\n});\n\nMock.onGet(\"/api/chat/chat-room\").reply(config => {\n  const { currentUser, contactId } = JSON.parse(config.data);\n\n  const chatUser = ChatDB.user.find(user => user.id === currentUser);\n  const chatRoom = chatUser.chatInfo.find(chat => chat.contactId === contactId);\n\n  if (chatRoom) {\n    const chats = ChatDB.chatCollection.find(\n      collection => collection.id === chatRoom.chatId\n    ).chats;\n    const messageList = chats.map(chat => {\n      let temp = ChatDB.contacts.find(user => user.id === chat.contactId);\n      return { ...chat, ...temp };\n    });\n    const response = {\n      chatId: chatRoom.chatId,\n      messageList,\n      recentListUpdated: false\n    };\n    return [200, response];\n  } else {\n    let chatId = shortId.generate();\n    ChatDB.user.map(user => {\n      if (currentUser === user.id) {\n        user.chatInfo.push({\n          chatId,\n          contactId,\n          lastChatTime: Date.now(),\n          unread: 0\n        });\n      }\n    });\n    ChatDB.chatCollection.push({\n      id: chatId,\n      chats: []\n    });\n\n    const response = {\n      chatId,\n      messageList: [],\n      recentListUpdated: true\n    };\n\n    return [200, response];\n  }\n});\n\nMock.onGet(\"/api/chat/contacts/recent\").reply(config => {\n  let temp = { contact: \"\" };\n  const id = config.data;\n  const contacts = ChatDB.user.find(user => user.id === id).chatInfo;\n  const response = contacts.map(contact => {\n    temp.contact = ChatDB.contacts.find(user => user.id === contact.contactId);\n    return { ...temp.contact, ...contact };\n  });\n  return [200, response];\n});\n\nMock.onGet(\"/api/chat/contacts/all\").reply(config => {\n  const id = config.data;\n  const response = ChatDB.contacts.filter(contact => contact.id !== id);\n  return [200, response];\n});\n\nMock.onGet(\"/api/chat/contacts\").reply(config => {\n  const id = config.data;\n  const response = ChatDB.contacts.find(contact => contact.id === id);\n  return [200, response];\n});\n\nMock.onPost(\"/api/chat/add\").reply(config => {\n  let chatDetails = JSON.parse(config.data);\n  let { chatId } = chatDetails;\n  ChatDB.chatCollection.map(chatRoom => {\n    if (chatId === chatRoom.id) {\n      delete chatDetails.chatId;\n      chatRoom.chats.push({ ...chatDetails });\n    }\n  });\n  let chats = ChatDB.chatCollection.find(chatRoom => chatRoom.id === chatId)\n    .chats;\n\n  let response = chats.map(chat => {\n    let temp = ChatDB.contacts.find(user => user.id === chat.contactId);\n    return { ...chat, ...temp };\n  });\n  return [200, response];\n});\n"]},"metadata":{},"sourceType":"module"}