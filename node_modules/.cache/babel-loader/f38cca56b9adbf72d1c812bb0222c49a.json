{"ast":null,"code":"import _classCallCheck from\"/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from\"axios\";import localStorageService from\"./localStorageService\";var JwtAuthService=function JwtAuthService(){var _this=this;_classCallCheck(this,JwtAuthService);this.user={userId:\"1\",role:'ADMIN',displayName:\"Watson Joyce\",email:\"watsonjoyce@gmail.com\",photoURL:\"/assets/images/face-7.jpg\",age:25,token:\"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"};this.loginWithEmailAndPassword=function(email,password){return new Promise(function(resolve,reject){setTimeout(function(){resolve(_this.user);},1000);}).then(function(data){_this.setSession(data.token);_this.setUser(data);return data;});};this.loginWithToken=function(){return new Promise(function(resolve,reject){setTimeout(function(){resolve(_this.user);},100);}).then(function(data){_this.setSession(data.token);_this.setUser(data);return data;});};this.logout=function(){_this.setSession(null);_this.removeUser();};this.setSession=function(token){if(token){localStorage.setItem(\"jwt_token\",token);axios.defaults.headers.common[\"Authorization\"]=\"Bearer \"+token;}else{localStorage.removeItem(\"jwt_token\");delete axios.defaults.headers.common[\"Authorization\"];}};this.setUser=function(user){localStorageService.setItem(\"auth_user\",user);};this.removeUser=function(){localStorage.removeItem(\"auth_user\");};};export default new JwtAuthService();","map":{"version":3,"sources":["/Users/arjun/Documents/Personal/Test/Theta/UI Theme/gull-admin/react/src/app/services/jwtAuthService.js"],"names":["axios","localStorageService","JwtAuthService","user","userId","role","displayName","email","photoURL","age","token","loginWithEmailAndPassword","password","Promise","resolve","reject","setTimeout","then","data","setSession","setUser","loginWithToken","logout","removeUser","localStorage","setItem","defaults","headers","common","removeItem"],"mappings":"6LAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,C,GAEMC,CAAAA,c,oFAEJC,I,CAAO,CACLC,MAAM,CAAE,GADH,CAELC,IAAI,CAAE,OAFD,CAGLC,WAAW,CAAE,cAHR,CAILC,KAAK,CAAE,uBAJF,CAKLC,QAAQ,CAAE,2BALL,CAMLC,GAAG,CAAE,EANA,CAOLC,KAAK,CAAE,sDAPF,C,MAUPC,yB,CAA4B,SAACJ,KAAD,CAAQK,QAAR,CAAqB,CAC/C,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCC,UAAU,CAAC,UAAM,CACfF,OAAO,CAAC,KAAI,CAACX,IAAN,CAAP,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAJM,EAIJc,IAJI,CAIC,SAAAC,IAAI,CAAI,CACd,KAAI,CAACC,UAAL,CAAgBD,IAAI,CAACR,KAArB,EACA,KAAI,CAACU,OAAL,CAAaF,IAAb,EACA,MAAOA,CAAAA,IAAP,CACD,CARM,CAAP,CASD,C,MAEDG,c,CAAiB,UAAM,CACrB,MAAO,IAAIR,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCC,UAAU,CAAC,UAAM,CACfF,OAAO,CAAC,KAAI,CAACX,IAAN,CAAP,CACD,CAFS,CAEP,GAFO,CAAV,CAGD,CAJM,EAIJc,IAJI,CAIC,SAAAC,IAAI,CAAI,CACd,KAAI,CAACC,UAAL,CAAgBD,IAAI,CAACR,KAArB,EACA,KAAI,CAACU,OAAL,CAAaF,IAAb,EACA,MAAOA,CAAAA,IAAP,CACD,CARM,CAAP,CASD,C,MAIDI,M,CAAS,UAAM,CACb,KAAI,CAACH,UAAL,CAAgB,IAAhB,EACA,KAAI,CAACI,UAAL,GACD,C,MAEDJ,U,CAAa,SAAAT,KAAK,CAAI,CACpB,GAAIA,KAAJ,CAAW,CACTc,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCf,KAAlC,EACAV,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,UAAYlB,KAA7D,CACD,CAHD,IAGO,CACLc,YAAY,CAACK,UAAb,CAAwB,WAAxB,EACA,MAAO7B,CAAAA,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP,CACD,CACF,C,MACDR,O,CAAU,SAACjB,IAAD,CAAU,CAClBF,mBAAmB,CAACwB,OAApB,CAA4B,WAA5B,CAAyCtB,IAAzC,EACD,C,MACDoB,U,CAAa,UAAM,CACjBC,YAAY,CAACK,UAAb,CAAwB,WAAxB,EACD,C,GAGH,cAAe,IAAI3B,CAAAA,cAAJ,EAAf","sourcesContent":["import axios from \"axios\";\nimport localStorageService from \"./localStorageService\";\n\nclass JwtAuthService {\n  \n  user = {\n    userId: \"1\",\n    role: 'ADMIN',\n    displayName: \"Watson Joyce\",\n    email: \"watsonjoyce@gmail.com\",\n    photoURL: \"/assets/images/face-7.jpg\",\n    age: 25,\n    token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n  }\n\n  loginWithEmailAndPassword = (email, password) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 1000);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  loginWithToken = () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 100);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  \n\n  logout = () => {\n    this.setSession(null);\n    this.removeUser();\n  }\n\n  setSession = token => {\n    if (token) {\n      localStorage.setItem(\"jwt_token\", token);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    } else {\n      localStorage.removeItem(\"jwt_token\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n    }\n  };\n  setUser = (user) => {    \n    localStorageService.setItem(\"auth_user\", user);\n  }\n  removeUser = () => {\n    localStorage.removeItem(\"auth_user\");\n  }\n}\n\nexport default new JwtAuthService();\n"]},"metadata":{},"sourceType":"module"}